[
    {
        "id": "3ee5a6f1.8010b2",
        "type": "tab",
        "label": "OpenEEW Firmware Plot",
        "disabled": false,
        "info": ""
    },
    {
        "id": "dbe71947.9c2ef",
        "type": "tab",
        "label": "Control Sensors",
        "disabled": false,
        "info": ""
    },
    {
        "id": "91d8d0e3.111f78",
        "type": "tab",
        "label": "ESP32 Activation",
        "disabled": false,
        "info": ""
    },
    {
        "id": "679a7bd6a8e81949",
        "type": "tab",
        "label": "Provisioning App",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c144587dbcbcc3b8",
        "type": "tab",
        "label": "Device Monitoring",
        "disabled": false,
        "info": ""
    },
    {
        "id": "d7e17bdf.18d3f8",
        "type": "tab",
        "label": "Dashboard Control",
        "disabled": false,
        "info": ""
    },
    {
        "id": "4b86c42e8bda554e",
        "type": "tab",
        "label": "Migrate IoT Brokers",
        "disabled": true,
        "info": ""
    },
    {
        "id": "1078d99c.af1f8e",
        "type": "group",
        "z": "3ee5a6f1.8010b2",
        "name": "Enable / Disable Seismic Sensor Charts",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "da14181a.eb26d",
            "3b9f5267.2b2c6e",
            "5d976c60.6aee5c",
            "bdb4dae6.671c08",
            "8e15aa41.3e6bf"
        ],
        "x": 34,
        "y": 59,
        "w": 712,
        "h": 122
    },
    {
        "id": "14270ef3.9e1a91",
        "type": "group",
        "z": "3ee5a6f1.8010b2",
        "name": "Load List of OpenEEW Devices",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "2afa94e5.2cffbc",
            "35b80ea8.edc382",
            "1c7a6f36.9f8e49",
            "211fc0ca.35b9d8",
            "146d9c1e.ff6c2c",
            "a9e69d5f.6ca898",
            "28f98ac2.e5026e"
        ],
        "x": 34,
        "y": 199,
        "w": 812,
        "h": 202
    },
    {
        "id": "375b9d49.f8ad62",
        "type": "group",
        "z": "3ee5a6f1.8010b2",
        "name": "Plot selected real-time sensor data ",
        "style": {
            "label": true,
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "8a491ea.e41f36",
            "7a373931.465fb",
            "6b306423.6e5224",
            "8ae431eb.1ba34",
            "2fb6396b.666df6",
            "91e01aef.96303",
            "d640f543.072dc",
            "f9b794bb.222f88",
            "c38d31b0.c89de",
            "330f76b6.0a0542",
            "afd3a3c3.9ceef8",
            "4eabdc2.39594a4",
            "c203fe0f.04d1d8",
            "f83b2d2f.adb7f8",
            "2dac0af1.cfc476",
            "b9ebbe12.40e178",
            "f86ed3bc.4b0ae8",
            "2683ca2a.7fe7ce",
            "8923f152.266eb8",
            "1bae981.6e137e8",
            "f8ab4f0b.fe2e08",
            "94c18146.228a3",
            "a1f33efa.95aa68",
            "5af1fc26.c145a4",
            "980230a4.59efc",
            "1d8b6289.dd7eed",
            "3acab500.620844"
        ],
        "x": 34,
        "y": 599,
        "w": 1512,
        "h": 322
    },
    {
        "id": "71643361.53a184",
        "type": "group",
        "z": "3ee5a6f1.8010b2",
        "name": "Chart Scale Switch States",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "3ec469bb.92f1d6",
            "b42dbd49.5d3988",
            "955ca1f4.f48e48",
            "27d6455b.7e8542",
            "7dabcc93.98e37c",
            "b8c8f8e4.b59e88",
            "ef43dd71.6fb15",
            "a4f100a8.493bd",
            "fd91a0a3.39fb28",
            "cc66979.abd40e8",
            "a3628b81.b3bc18",
            "e4076464.801cf8",
            "ccc26c4.cf4c41",
            "b481ce06.75378",
            "aee04a9.5267a38",
            "59cd3601.1db5",
            "c2db8f6d.1c23b",
            "69e1067f.4a3ea8",
            "dc4ede94.b8e1c8",
            "33c63e41.4d6462"
        ],
        "x": 874,
        "y": 59,
        "w": 762,
        "h": 302
    },
    {
        "id": "729bd68b.952bf8",
        "type": "group",
        "z": "3ee5a6f1.8010b2",
        "name": "Select an OpenEEW Sensor Network sensor to plot",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "74eb07b0.9d591",
            "c4737696.24bb9",
            "bd7d70a9.728578",
            "44e3710c.371c8",
            "782478a6.6b8f",
            "4d6c17e1.00ffc",
            "22895b39.e8582c",
            "9e3f7bde.f5c55"
        ],
        "x": 34,
        "y": 419,
        "w": 1172,
        "h": 162
    },
    {
        "id": "201d6eb4.f4b03a",
        "type": "group",
        "z": "dbe71947.9c2ef",
        "name": "Earthquake Alert Test",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "b0b82395.2f735",
            "9314d1a1.66b058",
            "b44405b9.eb6ba",
            "8e87b9bc.fd498",
            "3f09db9.cd59ba4",
            "9677c4c4.89c82",
            "e71a3d3c.c60018",
            "599e6ba5.349be4",
            "20f80eef.b04e9a"
        ],
        "x": 54,
        "y": 299
    },
    {
        "id": "86d64079.5cf58",
        "type": "group",
        "z": "dbe71947.9c2ef",
        "name": "Change Sample Rate",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "5f256ea6.774fa",
            "9a993497.7be478",
            "8ebc6057.236aa",
            "473502e9.2e2b3c",
            "6adbcad9.c3251c",
            "9bcd5bcd.0db4a",
            "81033b6d.8bc498",
            "fc5ae561.b971a8",
            "c20f9172.bc7aa",
            "7ac321df.70824",
            "f2825c4c.8d2c88",
            "cd33e6a4.b7a9c",
            "c733bc56.e24d4",
            "52f422c9.e29dec",
            "f4cd4caf.ae04c8",
            "c615830.1c62e8",
            "d1734134.0271f8",
            "818616fa.b6bd8",
            "d9e6ed30.4aef68"
        ],
        "x": 54,
        "y": 1239
    },
    {
        "id": "9cf1823c.e1d0f8",
        "type": "group",
        "z": "dbe71947.9c2ef",
        "name": "Send Live Data",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "60e3ed8f.11d9d4",
            "544a460.9d9c63c",
            "396ec2f1.16255e",
            "74041f8d.47324",
            "b2642f1d.98fef8",
            "6b17e893.eb505",
            "a625b304.9b97c8",
            "41b12daa.7a95bc",
            "7bee2b42.b570cc",
            "eb57f933.c2ce38",
            "7638eba.f7ca994",
            "289270f3.486e08",
            "771889d9.63d348",
            "75802ed6.3ad74",
            "12a82db6.614baa"
        ],
        "x": 54,
        "y": 899
    },
    {
        "id": "c8fcfa53.af0308",
        "type": "group",
        "z": "dbe71947.9c2ef",
        "name": "Load List of OpenEEW Devices",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "5908ced6.efe24",
            "12067772.8f41c1",
            "a50d2f8b.0180a8",
            "e9fea2d3.4ac84",
            "17fa2b52.4adbcd",
            "f171e8a5.f8c6e",
            "db2288b1.7ee8a",
            "4b485992.050078",
            "79c9fd99.0a0aec",
            "cceeecca.473e68",
            "4908c4a.e4221bc",
            "dd54c69b.0f01d",
            "51684c81.a6bab4"
        ],
        "x": 54,
        "y": 59
    },
    {
        "id": "38984c09.dd023c",
        "type": "group",
        "z": "91d8d0e3.111f78",
        "name": "Watson IoT Activation Endpoint v1",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "7e6257bc.48e188",
            "67d61299.44f544",
            "6e573085.549ae",
            "bc14c19b.d35bd",
            "900cf858.b8e83",
            "22d69736.ef1ac",
            "a0698625.2cdfb",
            "2093d599.439a3a",
            "abaf4b69.81efe8",
            "d78083ec.b62b6",
            "e7b5c5e5.05863",
            "9445eb7.809e998",
            "ac58db05.dd9128",
            "dd85bf57.b2579",
            "af66984f.4800a8",
            "616abd73.3adbc4",
            "4017bebc.5eecf",
            "1c74f812.6285c",
            "ef7746da.a5da3",
            "6c89884917168467",
            "b0ebc8ee067c0b22"
        ],
        "x": 14,
        "y": 299,
        "w": 1392,
        "h": 342
    },
    {
        "id": "737f93ad.6da5fc",
        "type": "group",
        "z": "91d8d0e3.111f78",
        "name": "Respond to HTTP Request",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "13bced9f.6aff1a",
            "e693db7d.24da28",
            "ba685dd5.439208",
            "11cbccde.65d013",
            "66ce1ea3.97ca88"
        ],
        "x": 694,
        "y": 719,
        "w": 572,
        "h": 142
    },
    {
        "id": "8382a4e0.422c18",
        "type": "group",
        "z": "91d8d0e3.111f78",
        "name": "OpenEEW Activation Endpoint (ESP32 Sensor Board)",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "740db933.fce878",
            "38d4526b.e2bc7e",
            "92ef652c.2fb308",
            "e282b9e4.d382d",
            "53412d21.9ef96c",
            "af5b4443.9b8208",
            "69e82714.27f61",
            "a224ba33f87d66ad"
        ],
        "x": 14,
        "y": 119,
        "w": 882,
        "h": 162
    },
    {
        "id": "f7c2dba2.d0ba4",
        "type": "group",
        "z": "91d8d0e3.111f78",
        "name": "Store / Update Device Details in Cloudant DB ",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "4dc5ba4e.96c96c",
            "3816a583.10ea4a",
            "908208ac.a02578",
            "9ba900fc.f4f768",
            "5cfd78de.ddb25",
            "706cc528.250634",
            "c74eb96a.8ff8d",
            "dc5f308.2739dd",
            "8c147be6.ae7138",
            "6a6a7390.bfd65c",
            "89148970.6a2a98",
            "76a1e3211d3e70aa",
            "5bfa15c09e1ed551",
            "475bfe278f8c3436"
        ],
        "x": 14,
        "y": 919,
        "w": 1252,
        "h": 282
    },
    {
        "id": "fc79d93.5232128",
        "type": "group",
        "z": "91d8d0e3.111f78",
        "name": "Globals",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "7478328e.5e6f6c",
            "4e8733b7cd6710dd"
        ],
        "x": 14,
        "y": 19,
        "w": 472,
        "h": 82
    },
    {
        "id": "9e4cb2b1.53e0a",
        "type": "group",
        "z": "3ee5a6f1.8010b2",
        "name": "Send Live Data",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "b4840586.e63b3",
            "3ebcfde3.a2006a",
            "4578b1ce.c15178",
            "11b18e05.21f372",
            "f11f0e90.4223b8",
            "df7795a2.449fd",
            "62ea9610.2fb7b",
            "6423f8b6.3fffc",
            "e9e8bbde.87478",
            "2be6f677.24bce2",
            "2d6d6af1.93a1c6"
        ],
        "x": 34,
        "y": 939,
        "w": 1132,
        "h": 222
    },
    {
        "id": "fc715e74.69f67",
        "type": "group",
        "z": "dbe71947.9c2ef",
        "name": "Restart the Sensor",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "6f920bc6.6c50b4",
            "ae0f4dfa.473cd",
            "3b649950.dd4436",
            "69abbbfa.16a014",
            "49ad7837.7b3a48",
            "806e5d41.50aed",
            "8dddda88.af5898",
            "a7e76355.01dd6",
            "dc595a5e.eaa918"
        ],
        "x": 54,
        "y": 1579
    },
    {
        "id": "fc456075.0f6bf8",
        "type": "group",
        "z": "dbe71947.9c2ef",
        "name": "Factory Reset",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "cc45da18.1f9d28",
            "6d042b41.ab0fc4",
            "5852ddda.73d8cc",
            "8b843b8e.828cd8",
            "2dd96c10.875bfc",
            "bbf4442d.233fe",
            "d4cb1480.4781",
            "2bb606ce.ed0d9a",
            "59da2bc7.950614",
            "ad222b80.a161d"
        ],
        "x": 54,
        "y": 1779
    },
    {
        "id": "55991bb1.5b0c4c",
        "type": "group",
        "z": "dbe71947.9c2ef",
        "name": "Override STA / LTA Threshold",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "87e3aa4c.3f3ef8",
            "142061ae.2bad9e",
            "469ca13d.baaac8",
            "d8215e7f.ae9678",
            "31d58c14.8bc6c4",
            "5efd7e80.de9d28",
            "6ccd5c63.28e7d4",
            "9d980095.cd822",
            "c37a95.26239568",
            "176ee9be.a48b4e",
            "a30cdcf8.b11458",
            "43b703e9.b04254",
            "a8a57366.bd303"
        ],
        "x": 54,
        "y": 1979
    },
    {
        "id": "a6a39970.38d9a8",
        "type": "group",
        "z": "dbe71947.9c2ef",
        "name": "Send 10 second History",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "42799131.27e4b",
            "cb61e885.499ee8",
            "29466fbf.e4e658",
            "5a1e6ee7.c19448",
            "f020b1e8.db039",
            "3baf360.d9cda4a",
            "2786e7e8.0c7698",
            "44e1b3e3.ea9b84",
            "ff744c76.c480e8"
        ],
        "x": 54,
        "y": 699
    },
    {
        "id": "1011bad6.dc08a5",
        "type": "group",
        "z": "dbe71947.9c2ef",
        "name": "Firmware Check",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "cae43296.803f9",
            "2578b319.c0d80c",
            "e864815d.ff746",
            "1e8770f6.98f6cf",
            "5f93779a.f8d1e8",
            "75f2deaa.af97a",
            "d8733a05.6a4538",
            "40b3f013.ec7bf8",
            "c9e90459.8e7638"
        ],
        "x": 54,
        "y": 499
    },
    {
        "id": "46e69648.8c8a58",
        "type": "group",
        "z": "dbe71947.9c2ef",
        "name": "Control OpenEEW Devices",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "c14f7252.0e2dd8",
            "dabfcd50.ed6d08",
            "41174a9a.027d74",
            "66a2e991.f457b8",
            "7e508802.e6a7d"
        ],
        "x": 1094,
        "y": 59
    },
    {
        "id": "a2601f7c8df47951",
        "type": "group",
        "z": "4b86c42e8bda554e",
        "name": "List OpenEEW Devices Registered to Watson IoT Platform",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "16a9db0a1e84516b",
            "c99898e1d46f7aaa",
            "ce03bb94ad050dc9",
            "428a1dacac83c3f8",
            "ba07b1dceaad12d6",
            "86a4f423db87d72b",
            "0df6026bcbbc1e5e",
            "441ec00e7f1cca10",
            "bb1b5cec7471d158"
        ],
        "x": 54,
        "y": 79
    },
    {
        "id": "33d13166.4995c6",
        "type": "group",
        "z": "91d8d0e3.111f78",
        "name": "VerneMQ Activation v2",
        "style": {
            "stroke": "#ff0000",
            "label": true,
            "fill": "#ffefbf",
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "a3bcceb3.4d302",
            "3c689c5a.0f9064",
            "11ca047c.12667c",
            "9d3ac070.ab012",
            "25e77e13.2b4e8a",
            "baa7cc14.aae56",
            "8b63adbb.162b",
            "f2a28470c3f95866"
        ],
        "x": 14,
        "y": 659,
        "w": 602,
        "h": 242
    },
    {
        "id": "e5b32b045eedbba8",
        "type": "group",
        "z": "679a7bd6a8e81949",
        "name": "OpenEEW Registration Endpoint (Mobile App)",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "72cd30a2f7294311",
            "cc9a48cc41bb7a9c",
            "69c9c4a0b3a125d6",
            "6e9253ba95490f45",
            "6f23acc26b04ba1f",
            "7dd7685c24ac4d72",
            "b99b4f1386f1a6d5"
        ],
        "x": 14,
        "y": 399,
        "w": 942,
        "h": 142
    },
    {
        "id": "ef2758e3b985c70c",
        "type": "group",
        "z": "679a7bd6a8e81949",
        "name": "OpenEEW User Account Endpoint (Mobile App)",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "d8ec81585a98f043",
            "fedf2d8d9a727a4c",
            "c48fa06633d3c512",
            "dd42c05ba804c5cb",
            "335e641dfa6606e9",
            "bc0b297a2678b2a9",
            "93ad7b85ab2436b9",
            "8b6c380277420d89",
            "ca200d9dcc4befa7",
            "04014214feec6e63",
            "aa740c2fda6ccd62",
            "f92c635d15578498",
            "25c80ccc99edda23",
            "e4a09176c84bb44d",
            "e002fabc41131996",
            "853740ff2bbe60dd",
            "1412ba9d4f1b21bb",
            "c20da5135d450c5d",
            "08f096e60dd59bdb"
        ],
        "x": 14,
        "y": 39,
        "w": 942,
        "h": 342
    },
    {
        "id": "0d920719a6f72558",
        "type": "group",
        "z": "679a7bd6a8e81949",
        "name": "Respond to HTTP Request",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "66b84803d9695bbd",
            "3b0f7a8754ea899e",
            "13a9fa8719ba3c7b",
            "dcdc0fc24e1f3a42",
            "4bf550e494b4b9bb"
        ],
        "x": 794,
        "y": 579,
        "w": 572,
        "h": 142
    },
    {
        "id": "2df60891489ed3cc",
        "type": "group",
        "z": "679a7bd6a8e81949",
        "name": "Store / Update Device Location / Owner Details in Cloudant DB ",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "1c8f3aca20d2e48b",
            "6685dd2178c00b1c",
            "ac9b036ce3e20e95",
            "9e4a253a0ed46f12",
            "1b172277ac03faa9",
            "9a40c5e85d7094cf",
            "ea78624d263521ad",
            "f3c27d1cacba9659",
            "dfe09c244c57fcc4",
            "f82a87cca068f448",
            "e42e10ef609fcce5",
            "e4cd3431bfa9c7e4",
            "0828e91d605900a4",
            "59efd29a0c41395a",
            "870b9fb32ca6ee75",
            "309cb361c9dded0d"
        ],
        "x": 14,
        "y": 759,
        "w": 1352,
        "h": 182
    },
    {
        "id": "2d4a3aca377038b0",
        "type": "group",
        "z": "c144587dbcbcc3b8",
        "name": "Update Device Connect / Disconnect status in Cloudant DB ",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "451c58f61b0e899b",
            "f6dff7e6a93269d4",
            "f5c7a405efee1c2b",
            "9b35e9ab992bca59",
            "381ba8e5d4342111",
            "907c02b67aaf24af",
            "1acdf28c938148f1",
            "64eaa696bf43a2dd",
            "5d1141462b39b4d4",
            "30a5f73e73bf98cd",
            "20a3a7739423e9a7",
            "3dd4de92a9bb9b70"
        ],
        "x": 14,
        "y": 39,
        "w": 1152,
        "h": 282
    },
    {
        "id": "a581fa89366d3b78",
        "type": "group",
        "z": "c144587dbcbcc3b8",
        "name": "Debug - List OpenEEW Devices Registered to Watson IoT Platform",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "1c58b1f870d2c22e",
            "6604feb471fe8aa2",
            "3e928a6cf42c947f",
            "21606d7777b31fbc",
            "4f03aeabe8037a1f",
            "015beaaabeac0416",
            "0659aa7fa0590815",
            "565d991b8e451c80",
            "74f12805dbc783c3",
            "359eb44fb2ee58df",
            "a0fe0a4f285ace8e"
        ],
        "x": 14,
        "y": 419,
        "w": 972,
        "h": 242
    },
    {
        "id": "2ab294f3e4b3a62c",
        "type": "group",
        "z": "c144587dbcbcc3b8",
        "name": "List Cloudant OpenEEW Device Database",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "1de5d14138b04f9e",
            "55d01d59e1a391bd",
            "69916a6098d820ac"
        ],
        "x": 14,
        "y": 699,
        "w": 592,
        "h": 82
    },
    {
        "id": "3af4ebb2eb3aecc7",
        "type": "group",
        "z": "679a7bd6a8e81949",
        "name": "Manual Import of Devices to Cloudant",
        "style": {
            "stroke": "#ff0000",
            "fill": "#ffefbf",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "66b07f12e32a0f23",
            "7e31026eb27c13d2",
            "c0c7574a1140d2bc",
            "cc0d9c45a2c5d9b2",
            "a1e0903fdcd3bde5",
            "c6dbb2ff4700e4f9"
        ],
        "x": 14,
        "y": 559,
        "w": 612,
        "h": 182
    },
    {
        "id": "c8ae23c4.05134",
        "type": "ui_base",
        "theme": {
            "name": "theme-custom",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Gray",
                "default": "#4B7930",
                "baseColor": "#697077",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#697077",
                    "value": "#697077",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#697077",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#90969d",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#697077",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 45,
                "sy": 45,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "41e326c0.374e1",
        "type": "ui_group",
        "name": "Acceleration Data",
        "tab": "291c89c1.695f5e",
        "order": 2,
        "disp": true,
        "width": "14",
        "collapse": false
    },
    {
        "id": "c9d15b03.d228b",
        "type": "ui_group",
        "name": "Sensors",
        "tab": "291c89c1.695f5e",
        "order": 1,
        "disp": true,
        "width": "14",
        "collapse": false
    },
    {
        "id": "70ebc89b.49427",
        "type": "ui_group",
        "name": "Chart Scale",
        "tab": "291c89c1.695f5e",
        "order": 3,
        "disp": true,
        "width": "8",
        "collapse": false
    },
    {
        "id": "291c89c1.695f5e",
        "type": "ui_tab",
        "name": "Real Time OpenEEW Device Plot",
        "icon": "fa-heartbeat",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "4d4e4d7b.7cc1dc",
        "type": "cloudant",
        "host": "${CLOUDANT_HOST}",
        "name": "Cloudant-openeew"
    },
    {
        "id": "91b9ece9.a2b7c8",
        "type": "ibmiot",
        "name": "7p7xwk",
        "keepalive": "60",
        "serverName": "7p7xwk.messaging.internetofthings.ibmcloud.com",
        "cleansession": true,
        "appId": "",
        "shared": false
    },
    {
        "id": "ae7389ad.885068",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "70ebc89b.49427",
        "order": 9,
        "width": "8",
        "height": "3"
    },
    {
        "id": "f7ec054a.a45f4",
        "type": "ui_group",
        "name": "Commands",
        "tab": "5875fd92.c28abc",
        "order": 2,
        "disp": true,
        "width": "10",
        "collapse": false
    },
    {
        "id": "d5241d80.8684d",
        "type": "ui_group",
        "name": "Sensors",
        "tab": "5875fd92.c28abc",
        "order": 1,
        "disp": true,
        "width": "16",
        "collapse": false
    },
    {
        "id": "c6a70804.fe6aa",
        "type": "ui_group",
        "name": "Sample Rate",
        "tab": "5875fd92.c28abc",
        "order": 3,
        "disp": true,
        "width": "10",
        "collapse": false
    },
    {
        "id": "5875fd92.c28abc",
        "type": "ui_tab",
        "name": "Control OpenEEW Devices",
        "icon": "fa-cloud-download",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "7a9420f5.e27f58",
        "type": "wiotp",
        "name": "7p7xwk"
    },
    {
        "id": "2c19e25.da87a1e",
        "type": "ibmiot",
        "name": "5yrusp",
        "keepalive": "60",
        "serverName": "5yrusp.messaging.internetofthings.ibmcloud.com",
        "cleansession": true,
        "appId": "",
        "shared": false
    },
    {
        "id": "612b8eb7.d1904",
        "type": "wiotp",
        "name": "5yrusp"
    },
    {
        "id": "29a2e2f4.85bcd6",
        "type": "mqtt-broker",
        "name": "",
        "broker": "7p7xwk.messaging.internetofthings.ibmcloud.com",
        "port": "1883",
        "clientid": "${MQTT_CLIENTID7P7XWK}",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "e8c39ea1.bf699",
        "type": "mqtt-broker",
        "name": "",
        "broker": "5yrusp.messaging.internetofthings.ibmcloud.com",
        "port": "1883",
        "clientid": "${MQTT_CLIENTID5YRUSP}",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "4bccaae6.5779e4",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f7ec054a.a45f4",
        "order": 27,
        "width": 1,
        "height": 1
    },
    {
        "id": "bb96168c.dc8598",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f7ec054a.a45f4",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "130c34b.e0427cb",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f7ec054a.a45f4",
        "order": 12,
        "width": 1,
        "height": 1
    },
    {
        "id": "20e6818.6ae7cfe",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f7ec054a.a45f4",
        "order": 14,
        "width": 1,
        "height": 1
    },
    {
        "id": "5ddfde01.ef61a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f7ec054a.a45f4",
        "order": 17,
        "width": 1,
        "height": 1
    },
    {
        "id": "97dd6818.e0fb78",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f7ec054a.a45f4",
        "order": 20,
        "width": 1,
        "height": 1
    },
    {
        "id": "3f3bde5e.f86fda",
        "type": "mqtt-broker",
        "name": "192.168.1.201",
        "broker": "192.168.1.201",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": false,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "65b72275.28a594",
        "type": "ui_tab",
        "name": "Logo",
        "icon": "dashboard",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "33a67963.a4036e",
        "type": "ui_group",
        "name": "Control",
        "tab": "65b72275.28a594",
        "order": 1,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "aff34067.4e98e",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f7ec054a.a45f4",
        "order": 26,
        "width": 1,
        "height": 1
    },
    {
        "id": "c87f1bcf.8b0fe8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f7ec054a.a45f4",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "1632de4b.ba8792",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "c6a70804.fe6aa",
        "order": 3,
        "width": "10",
        "height": "2"
    },
    {
        "id": "79ee79ef.add968",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "70ebc89b.49427",
        "order": 2,
        "width": "4",
        "height": 1
    },
    {
        "id": "4915671.f9f7918",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "70ebc89b.49427",
        "order": 4,
        "width": "4",
        "height": 1
    },
    {
        "id": "5c0b95d3.9b9e2c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "70ebc89b.49427",
        "order": 6,
        "width": "4",
        "height": 1
    },
    {
        "id": "841da7e5.c7e8d8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "70ebc89b.49427",
        "order": 8,
        "width": "4",
        "height": 1
    },
    {
        "id": "65f7c49d.3d1e84",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f7ec054a.a45f4",
        "order": 5,
        "width": 1,
        "height": 1
    },
    {
        "id": "f4cefaea.3d97a8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f7ec054a.a45f4",
        "order": 7,
        "width": 1,
        "height": 1
    },
    {
        "id": "540461ec.fc369",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "c6a70804.fe6aa",
        "order": 8,
        "width": "1",
        "height": 1
    },
    {
        "id": "bf4668b7.5a9cb",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "c6a70804.fe6aa",
        "order": 12,
        "width": "10",
        "height": 1
    },
    {
        "id": "aa3ec388.468d6",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "c6a70804.fe6aa",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "ed59bf88.503788",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "c6a70804.fe6aa",
        "order": 14,
        "width": "10",
        "height": "3"
    },
    {
        "id": "8a491ea.e41f36",
        "type": "ui_chart",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "Waveform",
        "group": "41e326c0.374e1",
        "order": 2,
        "width": "14",
        "height": "15",
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "-1",
        "ymax": "1",
        "removeOlder": "10",
        "removeOlderPoints": "",
        "removeOlderUnit": "1",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "x": 1460,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "7a373931.465fb",
        "type": "debug",
        "z": "3ee5a6f1.8010b2",
        "d": true,
        "g": "375b9d49.f8ad62",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 830,
        "y": 840,
        "wires": []
    },
    {
        "id": "6b306423.6e5224",
        "type": "ui_chart",
        "z": "3ee5a6f1.8010b2",
        "d": true,
        "g": "375b9d49.f8ad62",
        "name": "",
        "group": "41e326c0.374e1",
        "order": 3,
        "width": "12",
        "height": "5",
        "label": "Y",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "-1",
        "ymax": "1",
        "removeOlder": "10",
        "removeOlderPoints": "",
        "removeOlderUnit": "1",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 1450,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "8ae431eb.1ba34",
        "type": "ui_chart",
        "z": "3ee5a6f1.8010b2",
        "d": true,
        "g": "375b9d49.f8ad62",
        "name": "",
        "group": "41e326c0.374e1",
        "order": 4,
        "width": "12",
        "height": "5",
        "label": "Z",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "-2",
        "ymax": "2",
        "removeOlder": "10",
        "removeOlderPoints": "",
        "removeOlderUnit": "1",
        "cutout": 0,
        "useOneColor": true,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 1450,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "2fb6396b.666df6",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "X",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.traces[0].x",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 720,
        "wires": [
            [
                "5af1fc26.c145a4"
            ]
        ]
    },
    {
        "id": "91e01aef.96303",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "Y",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.traces[0].y",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 760,
        "wires": [
            [
                "a1f33efa.95aa68"
            ]
        ]
    },
    {
        "id": "d640f543.072dc",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "Z",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.traces[0].z",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 800,
        "wires": [
            [
                "f8ab4f0b.fe2e08"
            ]
        ]
    },
    {
        "id": "f9b794bb.222f88",
        "type": "split",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1010,
        "y": 720,
        "wires": [
            [
                "f83b2d2f.adb7f8"
            ]
        ]
    },
    {
        "id": "c38d31b0.c89de",
        "type": "switch",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "Filter on Selected Sensor",
        "property": "payload.device_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "SelectedSensor",
                "vt": "flow"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 610,
        "y": 760,
        "wires": [
            [
                "2fb6396b.666df6",
                "91e01aef.96303",
                "d640f543.072dc",
                "7a373931.465fb"
            ]
        ]
    },
    {
        "id": "74eb07b0.9d591",
        "type": "debug",
        "z": "3ee5a6f1.8010b2",
        "g": "729bd68b.952bf8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 430,
        "y": 480,
        "wires": []
    },
    {
        "id": "da14181a.eb26d",
        "type": "ui_switch",
        "z": "3ee5a6f1.8010b2",
        "g": "1078d99c.af1f8e",
        "name": "",
        "label": "Enable Seismic Activity charting",
        "tooltip": "",
        "group": "c9d15b03.d228b",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 190,
        "y": 100,
        "wires": [
            [
                "3b9f5267.2b2c6e",
                "bdb4dae6.671c08"
            ]
        ]
    },
    {
        "id": "3b9f5267.2b2c6e",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "1078d99c.af1f8e",
        "name": "Graph Activity",
        "rules": [
            {
                "t": "set",
                "p": "graphactivity",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 100,
        "wires": [
            [
                "5d976c60.6aee5c"
            ]
        ]
    },
    {
        "id": "5d976c60.6aee5c",
        "type": "debug",
        "z": "3ee5a6f1.8010b2",
        "g": "1078d99c.af1f8e",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 630,
        "y": 100,
        "wires": []
    },
    {
        "id": "330f76b6.0a0542",
        "type": "switch",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "Plot Sensor Activity",
        "property": "graphactivity",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 190,
        "y": 760,
        "wires": [
            [
                "980230a4.59efc"
            ]
        ]
    },
    {
        "id": "c4737696.24bb9",
        "type": "comment",
        "z": "3ee5a6f1.8010b2",
        "g": "729bd68b.952bf8",
        "name": "Select a sensor to plot from table",
        "info": "",
        "x": 190,
        "y": 540,
        "wires": []
    },
    {
        "id": "bd7d70a9.728578",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "729bd68b.952bf8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "SelectedSensor",
                "pt": "flow",
                "to": "payload.device_id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 480,
        "wires": [
            [
                "44e3710c.371c8",
                "782478a6.6b8f"
            ]
        ]
    },
    {
        "id": "44e3710c.371c8",
        "type": "debug",
        "z": "3ee5a6f1.8010b2",
        "g": "729bd68b.952bf8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.device_id",
        "targetType": "msg",
        "x": 1060,
        "y": 460,
        "wires": []
    },
    {
        "id": "afd3a3c3.9ceef8",
        "type": "split",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1010,
        "y": 760,
        "wires": [
            [
                "c203fe0f.04d1d8"
            ]
        ]
    },
    {
        "id": "4eabdc2.39594a4",
        "type": "split",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1010,
        "y": 800,
        "wires": [
            [
                "8923f152.266eb8"
            ]
        ]
    },
    {
        "id": "782478a6.6b8f",
        "type": "ui_text",
        "z": "3ee5a6f1.8010b2",
        "g": "729bd68b.952bf8",
        "group": "c9d15b03.d228b",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Selected sensor :",
        "format": "{{msg.payload.device_id}}",
        "layout": "row-spread",
        "x": 1050,
        "y": 500,
        "wires": []
    },
    {
        "id": "4d6c17e1.00ffc",
        "type": "switch",
        "z": "3ee5a6f1.8010b2",
        "g": "729bd68b.952bf8",
        "name": "Did Selected Sensor Change",
        "property": "payload.device_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "SelectedSensor",
                "vt": "flow"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 480,
        "y": 540,
        "wires": [
            [
                "22895b39.e8582c",
                "bd7d70a9.728578"
            ]
        ]
    },
    {
        "id": "22895b39.e8582c",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "729bd68b.952bf8",
        "name": "Zero Graphs",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 930,
        "y": 540,
        "wires": [
            [
                "8a491ea.e41f36",
                "6b306423.6e5224",
                "8ae431eb.1ba34",
                "1d8b6289.dd7eed"
            ]
        ]
    },
    {
        "id": "c203fe0f.04d1d8",
        "type": "delay",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "",
        "pauseType": "rate",
        "timeout": "50",
        "timeoutUnits": "milliseconds",
        "rate": "20",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "milliseconds",
        "drop": false,
        "x": 1180,
        "y": 760,
        "wires": [
            [
                "6b306423.6e5224",
                "8a491ea.e41f36"
            ]
        ]
    },
    {
        "id": "f83b2d2f.adb7f8",
        "type": "delay",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "",
        "pauseType": "rate",
        "timeout": "50",
        "timeoutUnits": "milliseconds",
        "rate": "20",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "milliseconds",
        "drop": false,
        "x": 1180,
        "y": 720,
        "wires": [
            [
                "8a491ea.e41f36"
            ]
        ]
    },
    {
        "id": "2dac0af1.cfc476",
        "type": "comment",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "MQTT feed of all sensors",
        "info": "",
        "x": 170,
        "y": 640,
        "wires": []
    },
    {
        "id": "b9ebbe12.40e178",
        "type": "comment",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "Split / rate limit subsecond accelerometer data",
        "info": "",
        "x": 930,
        "y": 680,
        "wires": []
    },
    {
        "id": "f86ed3bc.4b0ae8",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "Drop d",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.d",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 410,
        "y": 760,
        "wires": [
            [
                "c38d31b0.c89de"
            ]
        ]
    },
    {
        "id": "2683ca2a.7fe7ce",
        "type": "debug",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 350,
        "y": 680,
        "wires": []
    },
    {
        "id": "9e3f7bde.f5c55",
        "type": "ui_table",
        "z": "3ee5a6f1.8010b2",
        "g": "729bd68b.952bf8",
        "group": "c9d15b03.d228b",
        "name": "",
        "order": 5,
        "width": "14",
        "height": "11",
        "columns": [
            {
                "field": "device_id",
                "title": "Devices",
                "width": "17%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "latitude",
                "title": "Latitude",
                "width": "15%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "longitude",
                "title": "Longitude",
                "width": "15%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "location",
                "title": "Location",
                "width": "15%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "updatedDateTime",
                "title": "Last Checkin",
                "width": "25%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "status",
                "title": "Active",
                "width": "13%",
                "align": "left",
                "formatter": "color",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 1,
        "cts": true,
        "x": 230,
        "y": 500,
        "wires": [
            [
                "74eb07b0.9d591",
                "4d6c17e1.00ffc"
            ]
        ]
    },
    {
        "id": "8923f152.266eb8",
        "type": "delay",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "20",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1180,
        "y": 800,
        "wires": [
            [
                "8ae431eb.1ba34",
                "8a491ea.e41f36"
            ]
        ]
    },
    {
        "id": "3ec469bb.92f1d6",
        "type": "ui_switch",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "",
        "label": "1 to -1",
        "tooltip": "",
        "group": "70ebc89b.49427",
        "order": 1,
        "width": "4",
        "height": "1",
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 1130,
        "y": 140,
        "wires": [
            [
                "69e1067f.4a3ea8"
            ]
        ]
    },
    {
        "id": "b42dbd49.5d3988",
        "type": "ui_switch",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "",
        "label": "5 to -5",
        "tooltip": "",
        "group": "70ebc89b.49427",
        "order": 3,
        "width": "4",
        "height": "1",
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 1130,
        "y": 200,
        "wires": [
            [
                "c2db8f6d.1c23b"
            ]
        ]
    },
    {
        "id": "955ca1f4.f48e48",
        "type": "ui_switch",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "",
        "label": "10 to -10",
        "tooltip": "",
        "group": "70ebc89b.49427",
        "order": 5,
        "width": "4",
        "height": "1",
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 1140,
        "y": 260,
        "wires": [
            [
                "aee04a9.5267a38"
            ]
        ]
    },
    {
        "id": "27d6455b.7e8542",
        "type": "ui_switch",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "",
        "label": "100 to -100",
        "tooltip": "",
        "group": "70ebc89b.49427",
        "order": 7,
        "width": "4",
        "height": "1",
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 1150,
        "y": 320,
        "wires": [
            [
                "ccc26c4.cf4c41"
            ]
        ]
    },
    {
        "id": "7dabcc93.98e37c",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "-100 to 100",
        "rules": [
            {
                "t": "set",
                "p": "ui_control",
                "pt": "msg",
                "to": "{\"ymax\":100,\"ymin\":-100,\"spanGaps\":false}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1490,
        "y": 320,
        "wires": [
            [
                "e4076464.801cf8"
            ]
        ]
    },
    {
        "id": "b8c8f8e4.b59e88",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "-10 to 10",
        "rules": [
            {
                "t": "set",
                "p": "ui_control",
                "pt": "msg",
                "to": "{\"ymax\":10,\"ymin\":-10,\"spanGaps\":false}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1480,
        "y": 260,
        "wires": [
            [
                "a3628b81.b3bc18"
            ]
        ]
    },
    {
        "id": "ef43dd71.6fb15",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "-5 to 5",
        "rules": [
            {
                "t": "set",
                "p": "ui_control",
                "pt": "msg",
                "to": "{\"ymax\":5,\"ymin\":-5,\"spanGaps\":false}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 200,
        "wires": [
            [
                "cc66979.abd40e8"
            ]
        ]
    },
    {
        "id": "a4f100a8.493bd",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "-1 to 1",
        "rules": [
            {
                "t": "set",
                "p": "ui_control",
                "pt": "msg",
                "to": "{\"ymax\":1,\"ymin\":-1,\"spanGaps\":false}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 140,
        "wires": [
            [
                "fd91a0a3.39fb28"
            ]
        ]
    },
    {
        "id": "fd91a0a3.39fb28",
        "type": "link out",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "Scale1",
        "links": [
            "1bae981.6e137e8",
            "3acab500.620844"
        ],
        "x": 1595,
        "y": 140,
        "wires": []
    },
    {
        "id": "cc66979.abd40e8",
        "type": "link out",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "Scale5",
        "links": [
            "1bae981.6e137e8",
            "3acab500.620844"
        ],
        "x": 1595,
        "y": 200,
        "wires": []
    },
    {
        "id": "a3628b81.b3bc18",
        "type": "link out",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "Scale10",
        "links": [
            "1bae981.6e137e8",
            "3acab500.620844"
        ],
        "x": 1595,
        "y": 260,
        "wires": []
    },
    {
        "id": "e4076464.801cf8",
        "type": "link out",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "Scale100",
        "links": [
            "1bae981.6e137e8",
            "3acab500.620844"
        ],
        "x": 1595,
        "y": 320,
        "wires": []
    },
    {
        "id": "1bae981.6e137e8",
        "type": "link in",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "Rescale Waveform",
        "links": [
            "a3628b81.b3bc18",
            "cc66979.abd40e8",
            "e4076464.801cf8",
            "fd91a0a3.39fb28"
        ],
        "x": 1275,
        "y": 640,
        "wires": [
            [
                "8a491ea.e41f36",
                "6b306423.6e5224",
                "8ae431eb.1ba34"
            ]
        ]
    },
    {
        "id": "ccc26c4.cf4c41",
        "type": "switch",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "On",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1310,
        "y": 320,
        "wires": [
            [
                "7dabcc93.98e37c",
                "b481ce06.75378"
            ]
        ]
    },
    {
        "id": "b481ce06.75378",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "Off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 950,
        "y": 280,
        "wires": [
            [
                "955ca1f4.f48e48",
                "b42dbd49.5d3988",
                "3ec469bb.92f1d6"
            ]
        ]
    },
    {
        "id": "aee04a9.5267a38",
        "type": "switch",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "On",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1310,
        "y": 260,
        "wires": [
            [
                "59cd3601.1db5",
                "b8c8f8e4.b59e88"
            ]
        ]
    },
    {
        "id": "59cd3601.1db5",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "Off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 950,
        "y": 220,
        "wires": [
            [
                "27d6455b.7e8542",
                "b42dbd49.5d3988",
                "3ec469bb.92f1d6"
            ]
        ]
    },
    {
        "id": "c2db8f6d.1c23b",
        "type": "switch",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "On",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1310,
        "y": 200,
        "wires": [
            [
                "ef43dd71.6fb15",
                "dc4ede94.b8e1c8"
            ]
        ]
    },
    {
        "id": "69e1067f.4a3ea8",
        "type": "switch",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "On",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1310,
        "y": 140,
        "wires": [
            [
                "a4f100a8.493bd",
                "33c63e41.4d6462"
            ]
        ]
    },
    {
        "id": "dc4ede94.b8e1c8",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "Off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 950,
        "y": 160,
        "wires": [
            [
                "3ec469bb.92f1d6",
                "955ca1f4.f48e48",
                "27d6455b.7e8542"
            ]
        ]
    },
    {
        "id": "33c63e41.4d6462",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "71643361.53a184",
        "name": "Off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 950,
        "y": 100,
        "wires": [
            [
                "b42dbd49.5d3988",
                "955ca1f4.f48e48",
                "27d6455b.7e8542"
            ]
        ]
    },
    {
        "id": "2afa94e5.2cffbc",
        "type": "debug",
        "z": "3ee5a6f1.8010b2",
        "g": "14270ef3.9e1a91",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 730,
        "y": 360,
        "wires": []
    },
    {
        "id": "35b80ea8.edc382",
        "type": "inject",
        "z": "3ee5a6f1.8010b2",
        "g": "14270ef3.9e1a91",
        "name": "Update Table every 1 minutes",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 210,
        "y": 280,
        "wires": [
            [
                "211fc0ca.35b9d8"
            ]
        ]
    },
    {
        "id": "1c7a6f36.9f8e49",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "14270ef3.9e1a91",
        "name": "Build Table",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$append([],payload.{\t   \"device_id\":DeviceID,\t   \"latitude\":latitude,\t   \"longitude\":longitude,\t   \"location\":city,\t   \"updatedDateTime\":$moment(LastCheckin),\t   \"status\":status = \"Connect\" ? \"#00FF00\" : \"#FF0000\"\t})",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 360,
        "wires": [
            [
                "2afa94e5.2cffbc",
                "9e3f7bde.f5c55"
            ]
        ]
    },
    {
        "id": "146d9c1e.ff6c2c",
        "type": "debug",
        "z": "3ee5a6f1.8010b2",
        "g": "14270ef3.9e1a91",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 730,
        "y": 280,
        "wires": []
    },
    {
        "id": "211fc0ca.35b9d8",
        "type": "cloudant in",
        "z": "3ee5a6f1.8010b2",
        "g": "14270ef3.9e1a91",
        "name": "",
        "cloudant": "4d4e4d7b.7cc1dc",
        "database": "openeew-devices",
        "service": "_ext_",
        "search": "_all_",
        "design": "",
        "index": "",
        "x": 490,
        "y": 280,
        "wires": [
            [
                "1c7a6f36.9f8e49",
                "146d9c1e.ff6c2c"
            ]
        ]
    },
    {
        "id": "f8ab4f0b.fe2e08",
        "type": "function",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "Z",
        "func": "if( typeof(msg.payload) == 'undefined' ) {\n    return null;\n}\nlet everyother = [];\neveryother = msg.payload.filter((element, index) => {\n  return index % 2 === 0;\n});\n\nmsg.payload = everyother;\nmsg.topic=\"Z\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 915,
        "y": 800,
        "wires": [
            [
                "4eabdc2.39594a4"
            ]
        ],
        "l": false
    },
    {
        "id": "5af1fc26.c145a4",
        "type": "function",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "X",
        "func": "if( typeof(msg.payload) == 'undefined' ) {\n    return null;\n}\nlet everyother = [];\n// reduce from 32 to 16 per second\neveryother = msg.payload.filter((element, index) => {\n  return index % 2 === 0;\n});\n\nmsg.payload = everyother;\nmsg.topic=\"X\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 915,
        "y": 720,
        "wires": [
            [
                "f9b794bb.222f88"
            ]
        ],
        "l": false
    },
    {
        "id": "a1f33efa.95aa68",
        "type": "function",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "Y",
        "func": "if( typeof(msg.payload) == 'undefined' ) {\n    return null;\n}\nlet everyother = [];\neveryother = msg.payload.filter((element, index) => {\n  return index % 2 === 0;\n});\n\nmsg.payload = everyother;\nmsg.topic=\"Y\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 915,
        "y": 760,
        "wires": [
            [
                "afd3a3c3.9ceef8"
            ]
        ],
        "l": false
    },
    {
        "id": "a9e69d5f.6ca898",
        "type": "catch",
        "z": "3ee5a6f1.8010b2",
        "g": "14270ef3.9e1a91",
        "name": "Catch Cloudant read errors",
        "scope": [
            "211fc0ca.35b9d8"
        ],
        "uncaught": false,
        "x": 510,
        "y": 240,
        "wires": [
            [
                "28f98ac2.e5026e"
            ]
        ]
    },
    {
        "id": "28f98ac2.e5026e",
        "type": "debug",
        "z": "3ee5a6f1.8010b2",
        "g": "14270ef3.9e1a91",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 730,
        "y": 240,
        "wires": []
    },
    {
        "id": "b0b82395.2f735",
        "type": "ui_button",
        "z": "dbe71947.9c2ef",
        "g": "201d6eb4.f4b03a",
        "name": "",
        "group": "f7ec054a.a45f4",
        "order": 4,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Earthquake!",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"Alarm\":true}",
        "payloadType": "json",
        "topic": "",
        "x": 150,
        "y": 380,
        "wires": [
            [
                "8e87b9bc.fd498"
            ]
        ]
    },
    {
        "id": "9314d1a1.66b058",
        "type": "debug",
        "z": "dbe71947.9c2ef",
        "g": "201d6eb4.f4b03a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 890,
        "y": 340,
        "wires": []
    },
    {
        "id": "5908ced6.efe24",
        "type": "debug",
        "z": "dbe71947.9c2ef",
        "g": "c8fcfa53.af0308",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 950,
        "y": 180,
        "wires": []
    },
    {
        "id": "12067772.8f41c1",
        "type": "inject",
        "z": "dbe71947.9c2ef",
        "g": "c8fcfa53.af0308",
        "name": "Update Table every 1 minutes",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 230,
        "y": 100,
        "wires": [
            [
                "4908c4a.e4221bc",
                "dd54c69b.0f01d"
            ]
        ]
    },
    {
        "id": "a50d2f8b.0180a8",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "c8fcfa53.af0308",
        "name": "Build Table",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$append([],payload.{\t   \"device_id\":DeviceID,\t   \"latitude\":latitude,\t   \"longitude\":longitude,\t   \"location\":city,\t   \"firmware\":firmware_ver,\t   \"updatedDateTime\":$moment(LastCheckin).format('MM DD YYYY HH:mm:ss'),\t   \"status\":status = \"Connect\" ? \"#00FF00\" : \"#FF0000\"\t})",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 180,
        "wires": [
            [
                "5908ced6.efe24",
                "f171e8a5.f8c6e"
            ]
        ]
    },
    {
        "id": "e9fea2d3.4ac84",
        "type": "ui_text",
        "z": "dbe71947.9c2ef",
        "g": "c8fcfa53.af0308",
        "group": "d5241d80.8684d",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Selected sensor :",
        "format": "{{msg.payload.device_id}}",
        "layout": "row-spread",
        "x": 770,
        "y": 240,
        "wires": []
    },
    {
        "id": "17fa2b52.4adbcd",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "c8fcfa53.af0308",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "SelectedSensor",
                "pt": "flow",
                "to": "payload.device_id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 240,
        "wires": [
            [
                "e9fea2d3.4ac84"
            ]
        ]
    },
    {
        "id": "b44405b9.eb6ba",
        "type": "ui_text",
        "z": "dbe71947.9c2ef",
        "g": "201d6eb4.f4b03a",
        "group": "f7ec054a.a45f4",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "Earthquake Test Alert",
        "label": "Send a Earthquake Test Alert to the selected device",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 180,
        "y": 340,
        "wires": []
    },
    {
        "id": "8e87b9bc.fd498",
        "type": "switch",
        "z": "dbe71947.9c2ef",
        "g": "201d6eb4.f4b03a",
        "name": "Sensor Selected",
        "property": "SelectedSensor",
        "propertyType": "flow",
        "rules": [
            {
                "t": "nnull"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 380,
        "y": 380,
        "wires": [
            [
                "599e6ba5.349be4"
            ],
            [
                "3f09db9.cd59ba4"
            ]
        ]
    },
    {
        "id": "3f09db9.cd59ba4",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "201d6eb4.f4b03a",
        "name": "Select a sensor",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Please select a sensor to send the Earthquake alert test",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 440,
        "wires": [
            [
                "9677c4c4.89c82"
            ]
        ]
    },
    {
        "id": "9677c4c4.89c82",
        "type": "ui_toast",
        "z": "dbe71947.9c2ef",
        "g": "201d6eb4.f4b03a",
        "position": "top right",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 920,
        "y": 440,
        "wires": []
    },
    {
        "id": "e71a3d3c.c60018",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "201d6eb4.f4b03a",
        "name": "Sent Earthquake Alarm",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "An Earthquake alarm has been sent",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 400,
        "wires": [
            [
                "9677c4c4.89c82"
            ]
        ]
    },
    {
        "id": "60e3ed8f.11d9d4",
        "type": "debug",
        "z": "dbe71947.9c2ef",
        "g": "9cf1823c.e1d0f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1010,
        "y": 1000,
        "wires": []
    },
    {
        "id": "544a460.9d9c63c",
        "type": "ui_toast",
        "z": "dbe71947.9c2ef",
        "g": "9cf1823c.e1d0f8",
        "position": "top right",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 800,
        "y": 1100,
        "wires": []
    },
    {
        "id": "396ec2f1.16255e",
        "type": "ui_text_input",
        "z": "dbe71947.9c2ef",
        "g": "9cf1823c.e1d0f8",
        "name": "",
        "label": "Send n seconds of Live Data",
        "tooltip": "",
        "group": "f7ec054a.a45f4",
        "order": 23,
        "width": "10",
        "height": "1",
        "passthru": false,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "x": 200,
        "y": 980,
        "wires": [
            [
                "6b17e893.eb505"
            ]
        ]
    },
    {
        "id": "74041f8d.47324",
        "type": "ui_text",
        "z": "dbe71947.9c2ef",
        "g": "9cf1823c.e1d0f8",
        "group": "f7ec054a.a45f4",
        "order": 21,
        "width": 0,
        "height": 0,
        "name": "Send Live Data",
        "label": "Request the selected device send live accelerometer data",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 160,
        "y": 940,
        "wires": []
    },
    {
        "id": "f171e8a5.f8c6e",
        "type": "ui_table",
        "z": "dbe71947.9c2ef",
        "g": "c8fcfa53.af0308",
        "group": "d5241d80.8684d",
        "name": "",
        "order": 3,
        "width": "16",
        "height": "16",
        "columns": [
            {
                "field": "device_id",
                "title": "Devices",
                "width": "17%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "latitude",
                "title": "Latitude",
                "width": "15%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "longitude",
                "title": "Longitude",
                "width": "15%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "location",
                "title": "Location",
                "width": "15%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "firmware",
                "title": "Firmware",
                "width": "8",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "updatedDateTime",
                "title": "Last Checkin",
                "width": "20%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "status",
                "title": "Active",
                "width": "10%",
                "align": "left",
                "formatter": "color",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 1,
        "cts": true,
        "x": 270,
        "y": 240,
        "wires": [
            [
                "17fa2b52.4adbcd"
            ]
        ]
    },
    {
        "id": "db2288b1.7ee8a",
        "type": "ui_template",
        "z": "dbe71947.9c2ef",
        "g": "c8fcfa53.af0308",
        "group": "f7ec054a.a45f4",
        "name": "horizontal rule",
        "order": 10,
        "width": "10",
        "height": "1",
        "format": "<style>\nhr { background-color: red; height: 5px; border: 0; }\n</style>\n<div><hr><center><strong>Firmware Check</strong></center></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 720,
        "y": 100,
        "wires": [
            [
                "cceeecca.473e68"
            ]
        ]
    },
    {
        "id": "cceeecca.473e68",
        "type": "ui_template",
        "z": "dbe71947.9c2ef",
        "g": "c8fcfa53.af0308",
        "group": "f7ec054a.a45f4",
        "name": "horizontal rule",
        "order": 19,
        "width": "10",
        "height": "1",
        "format": "<style>\nhr { background-color: red; height: 5px; border: 0; margin-top: 0px;}\n</style>\n<div><hr><center><strong>Enable Live Data Transmission</strong></center></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 920,
        "y": 100,
        "wires": [
            [
                "79c9fd99.0a0aec"
            ]
        ]
    },
    {
        "id": "79c9fd99.0a0aec",
        "type": "ui_template",
        "z": "dbe71947.9c2ef",
        "g": "c8fcfa53.af0308",
        "group": "f7ec054a.a45f4",
        "name": "horizontal rule",
        "order": 15,
        "width": "10",
        "height": "1",
        "format": "<style>\nhr { background-color: red; height: 5px; border: 0; }\n</style>\n<div><hr><center><strong>Get previous 10 Seconds of Data</strong></center></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 520,
        "y": 140,
        "wires": [
            [
                "51684c81.a6bab4"
            ]
        ]
    },
    {
        "id": "4b485992.050078",
        "type": "ui_template",
        "z": "dbe71947.9c2ef",
        "g": "c8fcfa53.af0308",
        "group": "f7ec054a.a45f4",
        "name": "horizontal rule",
        "order": 29,
        "width": "10",
        "height": "1",
        "format": "<style>\nhr { background-color: red; height: 5px; border: 0; }\n</style>\n<div><hr></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 920,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "4908c4a.e4221bc",
        "type": "ui_template",
        "z": "dbe71947.9c2ef",
        "g": "c8fcfa53.af0308",
        "group": "f7ec054a.a45f4",
        "name": "horizontal rule",
        "order": 1,
        "width": "10",
        "height": "1",
        "format": "<style>\nhr { background-color: red; height: 5px; border: 0; margin-top: 0px;}\n</style>\n<div><hr><center><strong>Earthquake Simulator</strong></center></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 520,
        "y": 100,
        "wires": [
            [
                "db2288b1.7ee8a"
            ]
        ]
    },
    {
        "id": "5f256ea6.774fa",
        "type": "ui_list",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "group": "c6a70804.fe6aa",
        "name": "Sample Rate List",
        "order": 2,
        "width": "4",
        "height": "3",
        "lineType": "one",
        "actionType": "switch",
        "allowHTML": false,
        "outputs": 1,
        "topic": "",
        "x": 730,
        "y": 1280,
        "wires": [
            [
                "8ebc6057.236aa",
                "fc5ae561.b971a8"
            ]
        ]
    },
    {
        "id": "9a993497.7be478",
        "type": "inject",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "name": "Initial State - off",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[{\"title\":\"Sample Rate 31.25\",\"isChecked\":false},{\"title\":\"Sample Rate 125\",\"isChecked\":false},{\"title\":\"Stop ADXL355\",\"isChecked\":false}]",
        "payloadType": "json",
        "x": 500,
        "y": 1280,
        "wires": [
            [
                "5f256ea6.774fa"
            ]
        ]
    },
    {
        "id": "8ebc6057.236aa",
        "type": "debug",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 950,
        "y": 1280,
        "wires": []
    },
    {
        "id": "473502e9.2e2b3c",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "name": "Sample Rate 31",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[{\"title\":\"Sample Rate 31.25\",\"isChecked\":true},{\"title\":\"Sample Rate 125\",\"isChecked\":false},{\"title\":\"Stop ADXL355\",\"isChecked\":false}]",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "deviceId",
                "pt": "msg",
                "to": "SelectedSensor",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 1440,
        "wires": [
            [
                "5f256ea6.774fa",
                "7ac321df.70824"
            ]
        ]
    },
    {
        "id": "6adbcad9.c3251c",
        "type": "switch",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "name": "Sample Rate Changed",
        "property": "payload.title",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Sample Rate 31.25",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Sample Rate 125",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Stop ADXL355",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 220,
        "y": 1480,
        "wires": [
            [
                "473502e9.2e2b3c"
            ],
            [
                "9bcd5bcd.0db4a"
            ],
            [
                "81033b6d.8bc498"
            ]
        ]
    },
    {
        "id": "9bcd5bcd.0db4a",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "name": "Sample Rate 125",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[{\"title\":\"Sample Rate 31.25\",\"isChecked\":false},{\"title\":\"Sample Rate 125\",\"isChecked\":true},{\"title\":\"Stop ADXL355\",\"isChecked\":false}]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 1480,
        "wires": [
            [
                "5f256ea6.774fa",
                "c20f9172.bc7aa"
            ]
        ]
    },
    {
        "id": "81033b6d.8bc498",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "name": "Sample Rate 0",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[{\"title\":\"Sample Rate 31.25\",\"isChecked\":false},{\"title\":\"Sample Rate 125\",\"isChecked\":false},{\"title\":\"Stop ADXL355\",\"isChecked\":true}]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 1520,
        "wires": [
            [
                "5f256ea6.774fa",
                "f2825c4c.8d2c88"
            ]
        ]
    },
    {
        "id": "fc5ae561.b971a8",
        "type": "switch",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "name": "True",
        "property": "payload.isChecked",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 190,
        "y": 1360,
        "wires": [
            [
                "6adbcad9.c3251c",
                "cd33e6a4.b7a9c"
            ]
        ]
    },
    {
        "id": "c20f9172.bc7aa",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "name": "Set SampleRate 125",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"SampleRate\":125}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "deviceId",
                "pt": "msg",
                "to": "SelectedSensor",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 1480,
        "wires": [
            [
                "d1734134.0271f8"
            ]
        ]
    },
    {
        "id": "7ac321df.70824",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "name": "Set SampleRate 31  .",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"SampleRate\":31}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 1440,
        "wires": [
            [
                "d1734134.0271f8"
            ]
        ]
    },
    {
        "id": "f2825c4c.8d2c88",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "name": "Set SampleRate 0",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"SampleRate\":0}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "deviceId",
                "pt": "msg",
                "to": "SelectedSensor",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 1520,
        "wires": [
            [
                "d1734134.0271f8"
            ]
        ]
    },
    {
        "id": "cd33e6a4.b7a9c",
        "type": "switch",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "name": "Sensor Selected?",
        "property": "SelectedSensor",
        "propertyType": "flow",
        "rules": [
            {
                "t": "null"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 1360,
        "wires": [
            [
                "c733bc56.e24d4"
            ],
            [
                "52f422c9.e29dec"
            ]
        ]
    },
    {
        "id": "c733bc56.e24d4",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "name": "Select a sensor",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Please select a sensor to change the Sample Rate",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 1340,
        "wires": [
            [
                "f4cd4caf.ae04c8"
            ]
        ]
    },
    {
        "id": "52f422c9.e29dec",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "name": "Change Sample Rate",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Sent command to change the sample rate",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 1380,
        "wires": [
            [
                "f4cd4caf.ae04c8"
            ]
        ]
    },
    {
        "id": "f4cd4caf.ae04c8",
        "type": "ui_toast",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "position": "top right",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 960,
        "y": 1340,
        "wires": []
    },
    {
        "id": "c615830.1c62e8",
        "type": "ui_text",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "group": "c6a70804.fe6aa",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Change the ADXL355 Sample Rate :",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 230,
        "y": 1280,
        "wires": []
    },
    {
        "id": "dd54c69b.0f01d",
        "type": "cloudant in",
        "z": "dbe71947.9c2ef",
        "g": "c8fcfa53.af0308",
        "name": "",
        "cloudant": "4d4e4d7b.7cc1dc",
        "database": "openeew-devices",
        "service": "_ext_",
        "search": "_all_",
        "design": "",
        "index": "",
        "x": 530,
        "y": 180,
        "wires": [
            [
                "a50d2f8b.0180a8"
            ]
        ]
    },
    {
        "id": "7e6257bc.48e188",
        "type": "comment",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "Register a new WIoTP device",
        "info": "",
        "x": 280,
        "y": 520,
        "wires": []
    },
    {
        "id": "740db933.fce878",
        "type": "http in",
        "z": "91d8d0e3.111f78",
        "g": "8382a4e0.422c18",
        "name": "",
        "url": "/activation",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 120,
        "y": 180,
        "wires": [
            [
                "92ef652c.2fb308",
                "e282b9e4.d382d"
            ]
        ],
        "info": "// nrlint no-unconnected-http-nodes:off\n"
    },
    {
        "id": "13bced9f.6aff1a",
        "type": "http response",
        "z": "91d8d0e3.111f78",
        "g": "737f93ad.6da5fc",
        "name": "",
        "x": 1190,
        "y": 800,
        "wires": [],
        "info": "// nrlint no-unconnected-http-nodes:off\n"
    },
    {
        "id": "38d4526b.e2bc7e",
        "type": "switch",
        "z": "91d8d0e3.111f78",
        "g": "8382a4e0.422c18",
        "name": "Activation Version",
        "property": "req.query.ver",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 710,
        "y": 180,
        "wires": [
            [
                "69e82714.27f61"
            ],
            [
                "a224ba33f87d66ad"
            ],
            [
                "af5b4443.9b8208"
            ]
        ]
    },
    {
        "id": "e693db7d.24da28",
        "type": "change",
        "z": "91d8d0e3.111f78",
        "g": "737f93ad.6da5fc",
        "name": "Success:Set headers statusCode 200",
        "rules": [
            {
                "t": "set",
                "p": "statusCode",
                "pt": "msg",
                "to": "200",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "headers.content-type",
                "pt": "msg",
                "to": "application/json",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 950,
        "y": 760,
        "wires": [
            [
                "13bced9f.6aff1a"
            ]
        ]
    },
    {
        "id": "ba685dd5.439208",
        "type": "change",
        "z": "91d8d0e3.111f78",
        "g": "737f93ad.6da5fc",
        "name": "Fail:   Set headers statusCode 400",
        "rules": [
            {
                "t": "set",
                "p": "statusCode",
                "pt": "msg",
                "to": "400",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 820,
        "wires": [
            [
                "13bced9f.6aff1a"
            ]
        ]
    },
    {
        "id": "92ef652c.2fb308",
        "type": "debug",
        "z": "91d8d0e3.111f78",
        "g": "8382a4e0.422c18",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 370,
        "y": 160,
        "wires": []
    },
    {
        "id": "e282b9e4.d382d",
        "type": "switch",
        "z": "91d8d0e3.111f78",
        "g": "8382a4e0.422c18",
        "name": "Check for JSON content-type",
        "property": "req.headers.content-type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": "application/json",
                "vt": "str",
                "case": true
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "outputs": 2,
        "x": 440,
        "y": 200,
        "wires": [
            [
                "38d4526b.e2bc7e"
            ],
            [
                "53412d21.9ef96c"
            ]
        ]
    },
    {
        "id": "67d61299.44f544",
        "type": "switch",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "Check macaddress",
        "property": "payload.macaddress",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 210,
        "y": 380,
        "wires": [
            [
                "900cf858.b8e83",
                "2093d599.439a3a",
                "6c89884917168467"
            ],
            [
                "af66984f.4800a8"
            ]
        ]
    },
    {
        "id": "6e573085.549ae",
        "type": "change",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "Respond to Device",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "payload.org",
                "pt": "msg",
                "to": "wiotp-org",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "payload.firmware_latest",
                "pt": "msg",
                "to": "firmware_latest",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "payload.firmware_ota_url",
                "pt": "msg",
                "to": "firmware_ota_url",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 480,
        "wires": [
            [
                "1c74f812.6285c"
            ]
        ]
    },
    {
        "id": "bc14c19b.d35bd",
        "type": "device-manager",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "auth": "api",
        "name": "",
        "apiKey": "612b8eb7.d1904",
        "deviceType": "OpenEEW",
        "method": "Create",
        "deviceId": "",
        "password": "",
        "ignore": false,
        "x": 360,
        "y": 480,
        "wires": [
            [
                "abaf4b69.81efe8",
                "d78083ec.b62b6"
            ]
        ]
    },
    {
        "id": "900cf858.b8e83",
        "type": "debug",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 375,
        "y": 340,
        "wires": [],
        "l": false
    },
    {
        "id": "22d69736.ef1ac",
        "type": "debug",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1075,
        "y": 400,
        "wires": [],
        "l": false
    },
    {
        "id": "a0698625.2cdfb",
        "type": "inject",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "Sample Device",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"deviceId\":\"246F28CCE88E\",\"authToken\":\"OpenEEW-sens0r\"}",
        "payloadType": "json",
        "x": 140,
        "y": 480,
        "wires": [
            [
                "bc14c19b.d35bd"
            ]
        ]
    },
    {
        "id": "2093d599.439a3a",
        "type": "change",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "Check WIoTP for Existing Device",
        "rules": [
            {
                "t": "set",
                "p": "openeew",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "payload.deviceId",
                "pt": "msg",
                "to": "openeew.macaddress",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.authToken",
                "pt": "msg",
                "to": "OpenEEW-sens0r",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.deviceInfo",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "payload.deviceInfo.fwVersion",
                "pt": "msg",
                "to": "openeew.firmware_device",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.location",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "payload.location.latitude",
                "pt": "msg",
                "to": "openeew.lat",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.location.longitude",
                "pt": "msg",
                "to": "openeew.lng",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 380,
        "wires": [
            [
                "9445eb7.809e998",
                "bc14c19b.d35bd"
            ]
        ]
    },
    {
        "id": "abaf4b69.81efe8",
        "type": "switch",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "Device Added or Exists",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "istype",
                "v": "object",
                "vt": "object"
            },
            {
                "t": "eq",
                "v": "409",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 610,
        "y": 480,
        "wires": [
            [
                "e7b5c5e5.05863"
            ],
            [
                "6e573085.549ae"
            ],
            [
                "dd85bf57.b2579"
            ]
        ]
    },
    {
        "id": "d78083ec.b62b6",
        "type": "debug",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 515,
        "y": 540,
        "wires": [],
        "l": false
    },
    {
        "id": "e7b5c5e5.05863",
        "type": "switch",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "Successfully added",
        "property": "payload.status.alert.enabled",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 890,
        "y": 420,
        "wires": [
            [
                "6e573085.549ae",
                "22d69736.ef1ac"
            ],
            [
                "ac58db05.dd9128"
            ]
        ]
    },
    {
        "id": "9445eb7.809e998",
        "type": "debug",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 340,
        "wires": []
    },
    {
        "id": "11cbccde.65d013",
        "type": "link in",
        "z": "91d8d0e3.111f78",
        "g": "737f93ad.6da5fc",
        "name": "Fail Error 400",
        "links": [
            "53412d21.9ef96c",
            "af5b4443.9b8208",
            "ac58db05.dd9128",
            "dd85bf57.b2579",
            "af66984f.4800a8",
            "74f9964a.8fd8f",
            "30cfaf10.da7df",
            "1f534b78.bac605",
            "7e60a56a.de4f24",
            "12a11c85.7cd50b",
            "abe3883e.ad8ce8",
            "281adb37.5782f4",
            "8b63adbb.162b"
        ],
        "x": 735,
        "y": 820,
        "wires": [
            [
                "ba685dd5.439208"
            ]
        ]
    },
    {
        "id": "53412d21.9ef96c",
        "type": "link out",
        "z": "91d8d0e3.111f78",
        "g": "8382a4e0.422c18",
        "name": "Activation fail on type",
        "links": [
            "11cbccde.65d013"
        ],
        "x": 635,
        "y": 240,
        "wires": []
    },
    {
        "id": "af5b4443.9b8208",
        "type": "link out",
        "z": "91d8d0e3.111f78",
        "g": "8382a4e0.422c18",
        "name": "Activation Fail",
        "links": [
            "11cbccde.65d013"
        ],
        "x": 855,
        "y": 240,
        "wires": []
    },
    {
        "id": "ac58db05.dd9128",
        "type": "link out",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "iotp device add error",
        "links": [
            "11cbccde.65d013"
        ],
        "x": 1075,
        "y": 440,
        "wires": []
    },
    {
        "id": "dd85bf57.b2579",
        "type": "link out",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "iotp device error",
        "links": [
            "11cbccde.65d013"
        ],
        "x": 815,
        "y": 600,
        "wires": []
    },
    {
        "id": "af66984f.4800a8",
        "type": "link out",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "No macaddress provided",
        "links": [
            "11cbccde.65d013"
        ],
        "x": 375,
        "y": 420,
        "wires": []
    },
    {
        "id": "66ce1ea3.97ca88",
        "type": "link in",
        "z": "91d8d0e3.111f78",
        "g": "737f93ad.6da5fc",
        "name": "Success 200",
        "links": [
            "25e77e13.2b4e8a",
            "522c1a1c.697474",
            "616abd73.3adbc4"
        ],
        "x": 735,
        "y": 760,
        "wires": [
            [
                "e693db7d.24da28"
            ]
        ]
    },
    {
        "id": "616abd73.3adbc4",
        "type": "link out",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "device found",
        "links": [
            "66ce1ea3.97ca88"
        ],
        "x": 1335,
        "y": 560,
        "wires": []
    },
    {
        "id": "69e82714.27f61",
        "type": "link out",
        "z": "91d8d0e3.111f78",
        "g": "8382a4e0.422c18",
        "name": "Act Endpoint V1",
        "links": [
            "4017bebc.5eecf"
        ],
        "x": 855,
        "y": 160,
        "wires": []
    },
    {
        "id": "4017bebc.5eecf",
        "type": "link in",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "Handle Endpoint V1",
        "links": [
            "69e82714.27f61"
        ],
        "x": 75,
        "y": 380,
        "wires": [
            [
                "67d61299.44f544"
            ]
        ]
    },
    {
        "id": "7478328e.5e6f6c",
        "type": "inject",
        "z": "91d8d0e3.111f78",
        "g": "fc79d93.5232128",
        "name": "Initialize Globals",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 140,
        "y": 60,
        "wires": [
            [
                "4e8733b7cd6710dd"
            ]
        ]
    },
    {
        "id": "4dc5ba4e.96c96c",
        "type": "change",
        "z": "91d8d0e3.111f78",
        "g": "f7c2dba2.d0ba4",
        "name": "Check for device by macaddress _id - Cloudant DB",
        "rules": [
            {
                "t": "set",
                "p": "openeew",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload._id",
                "pt": "msg",
                "to": "payload.macaddress",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 1000,
        "wires": [
            [
                "6a6a7390.bfd65c"
            ]
        ]
    },
    {
        "id": "3816a583.10ea4a",
        "type": "switch",
        "z": "91d8d0e3.111f78",
        "g": "f7c2dba2.d0ba4",
        "name": "Exists",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "null"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "outputs": 2,
        "x": 190,
        "y": 1100,
        "wires": [
            [
                "706cc528.250634"
            ],
            [
                "5cfd78de.ddb25"
            ]
        ]
    },
    {
        "id": "908208ac.a02578",
        "type": "debug",
        "z": "91d8d0e3.111f78",
        "g": "f7c2dba2.d0ba4",
        "name": "Create Record",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 1140,
        "y": 1020,
        "wires": []
    },
    {
        "id": "9ba900fc.f4f768",
        "type": "debug",
        "z": "91d8d0e3.111f78",
        "g": "f7c2dba2.d0ba4",
        "name": "Update Record",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 1140,
        "y": 1120,
        "wires": []
    },
    {
        "id": "5cfd78de.ddb25",
        "type": "change",
        "z": "91d8d0e3.111f78",
        "g": "f7c2dba2.d0ba4",
        "name": "Update OpenEEW Record",
        "rules": [
            {
                "t": "set",
                "p": "payload.LastCheckin",
                "pt": "msg",
                "to": "$millis()",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload.firmware_ver",
                "pt": "msg",
                "to": "openeew.firmware_device",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 1140,
        "wires": [
            [
                "dc5f308.2739dd"
            ]
        ]
    },
    {
        "id": "706cc528.250634",
        "type": "change",
        "z": "91d8d0e3.111f78",
        "g": "f7c2dba2.d0ba4",
        "name": "New OpenEEW Record",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "payload._id",
                "pt": "msg",
                "to": "openeew.macaddress",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.DeviceID",
                "pt": "msg",
                "to": "openeew.macaddress",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.Activated",
                "pt": "msg",
                "to": "$millis()",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload.LastCheckin",
                "pt": "msg",
                "to": "$millis()",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload.latitude",
                "pt": "msg",
                "to": "openeew.lat",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.longitude",
                "pt": "msg",
                "to": "openeew.lng",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.firmware_ver",
                "pt": "msg",
                "to": "openeew.firmware_device",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 410,
        "y": 1080,
        "wires": [
            [
                "908208ac.a02578",
                "89148970.6a2a98"
            ]
        ]
    },
    {
        "id": "c74eb96a.8ff8d",
        "type": "comment",
        "z": "91d8d0e3.111f78",
        "g": "f7c2dba2.d0ba4",
        "name": "/activation",
        "info": "",
        "x": 100,
        "y": 960,
        "wires": []
    },
    {
        "id": "dc5f308.2739dd",
        "type": "switch",
        "z": "91d8d0e3.111f78",
        "g": "f7c2dba2.d0ba4",
        "name": "Activated Record",
        "property": "payload.Activated",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 670,
        "y": 1140,
        "wires": [
            [
                "9ba900fc.f4f768",
                "89148970.6a2a98"
            ],
            [
                "8c147be6.ae7138"
            ]
        ]
    },
    {
        "id": "8c147be6.ae7138",
        "type": "change",
        "z": "91d8d0e3.111f78",
        "g": "f7c2dba2.d0ba4",
        "name": "Newly Activated",
        "rules": [
            {
                "t": "set",
                "p": "payload.Activated",
                "pt": "msg",
                "to": "$millis()",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 1160,
        "wires": [
            [
                "9ba900fc.f4f768",
                "89148970.6a2a98"
            ]
        ]
    },
    {
        "id": "6a6a7390.bfd65c",
        "type": "cloudant in",
        "z": "91d8d0e3.111f78",
        "g": "f7c2dba2.d0ba4",
        "name": "",
        "cloudant": "4d4e4d7b.7cc1dc",
        "database": "openeew-devices",
        "service": "_ext_",
        "search": "_id_",
        "design": "",
        "index": "",
        "x": 610,
        "y": 1000,
        "wires": [
            [
                "3816a583.10ea4a"
            ]
        ]
    },
    {
        "id": "89148970.6a2a98",
        "type": "cloudant out",
        "z": "91d8d0e3.111f78",
        "g": "f7c2dba2.d0ba4",
        "name": "",
        "cloudant": "4d4e4d7b.7cc1dc",
        "database": "openeew-devices",
        "service": "_ext_",
        "payonly": true,
        "operation": "insert",
        "x": 1150,
        "y": 1080,
        "wires": []
    },
    {
        "id": "94c18146.228a3",
        "type": "mqtt in",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "Sensor Data",
        "topic": "iot-2/type/OpenEEW/id/+/evt/+/fmt/json",
        "qos": "2",
        "datatype": "json",
        "broker": "e8c39ea1.bf699",
        "nl": false,
        "rap": false,
        "x": 150,
        "y": 680,
        "wires": [
            [
                "2683ca2a.7fe7ce",
                "330f76b6.0a0542"
            ]
        ]
    },
    {
        "id": "d1734134.0271f8",
        "type": "template",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "name": "Build MQTT Topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "iot-2/type/OpenEEW/id/{{flow.SelectedSensor}}/cmd/samplerate/fmt/json",
        "output": "str",
        "x": 970,
        "y": 1480,
        "wires": [
            [
                "818616fa.b6bd8",
                "d9e6ed30.4aef68"
            ]
        ]
    },
    {
        "id": "818616fa.b6bd8",
        "type": "debug",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1150,
        "y": 1460,
        "wires": []
    },
    {
        "id": "599e6ba5.349be4",
        "type": "template",
        "z": "dbe71947.9c2ef",
        "g": "201d6eb4.f4b03a",
        "name": "Build MQTT Topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "iot-2/type/OpenEEW/id/{{flow.SelectedSensor}}/cmd/earthquake/fmt/json",
        "output": "str",
        "x": 630,
        "y": 340,
        "wires": [
            [
                "e71a3d3c.c60018",
                "9314d1a1.66b058",
                "20f80eef.b04e9a"
            ]
        ]
    },
    {
        "id": "b2642f1d.98fef8",
        "type": "template",
        "z": "dbe71947.9c2ef",
        "g": "9cf1823c.e1d0f8",
        "name": "Build MQTT Topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "iot-2/type/OpenEEW/id/{{flow.SelectedSensor}}/cmd/sendacceldata/fmt/json",
        "output": "str",
        "x": 810,
        "y": 1000,
        "wires": [
            [
                "60e3ed8f.11d9d4",
                "12a82db6.614baa"
            ]
        ]
    },
    {
        "id": "b4840586.e63b3",
        "type": "debug",
        "z": "3ee5a6f1.8010b2",
        "g": "9e4cb2b1.53e0a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1070,
        "y": 1020,
        "wires": []
    },
    {
        "id": "3ebcfde3.a2006a",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "9e4cb2b1.53e0a",
        "name": "Duration",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "payload.LiveDataDuration",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 1020,
        "wires": [
            [
                "df7795a2.449fd",
                "2be6f677.24bce2"
            ]
        ]
    },
    {
        "id": "4578b1ce.c15178",
        "type": "switch",
        "z": "3ee5a6f1.8010b2",
        "g": "9e4cb2b1.53e0a",
        "name": "Selected Sensor",
        "property": "SelectedSensor",
        "propertyType": "flow",
        "rules": [
            {
                "t": "nnull"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 340,
        "y": 1080,
        "wires": [
            [
                "3ebcfde3.a2006a"
            ],
            [
                "11b18e05.21f372"
            ]
        ]
    },
    {
        "id": "11b18e05.21f372",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "9e4cb2b1.53e0a",
        "name": "Select a sensor",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Please select a sensor to request live data",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 1120,
        "wires": [
            [
                "f11f0e90.4223b8"
            ]
        ]
    },
    {
        "id": "f11f0e90.4223b8",
        "type": "ui_toast",
        "z": "3ee5a6f1.8010b2",
        "g": "9e4cb2b1.53e0a",
        "position": "top right",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 880,
        "y": 1120,
        "wires": []
    },
    {
        "id": "df7795a2.449fd",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "9e4cb2b1.53e0a",
        "name": "Sent Live Data",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Request for Live Data has been sent",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 1080,
        "wires": [
            [
                "f11f0e90.4223b8"
            ]
        ]
    },
    {
        "id": "62ea9610.2fb7b",
        "type": "ui_text_input",
        "z": "3ee5a6f1.8010b2",
        "g": "9e4cb2b1.53e0a",
        "name": "",
        "label": "Send n seconds of Live Data",
        "tooltip": "",
        "group": "c9d15b03.d228b",
        "order": 3,
        "width": "10",
        "height": "1",
        "passthru": false,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "x": 180,
        "y": 1020,
        "wires": [
            [
                "6423f8b6.3fffc"
            ]
        ]
    },
    {
        "id": "6423f8b6.3fffc",
        "type": "switch",
        "z": "3ee5a6f1.8010b2",
        "g": "9e4cb2b1.53e0a",
        "name": "isNum",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "istype",
                "v": "number",
                "vt": "number"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 170,
        "y": 1080,
        "wires": [
            [
                "4578b1ce.c15178"
            ]
        ]
    },
    {
        "id": "e9e8bbde.87478",
        "type": "ui_text",
        "z": "3ee5a6f1.8010b2",
        "g": "9e4cb2b1.53e0a",
        "group": "c9d15b03.d228b",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "Send Live Data",
        "label": "Request the selected device send live accelerometer data",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 140,
        "y": 980,
        "wires": []
    },
    {
        "id": "2be6f677.24bce2",
        "type": "template",
        "z": "3ee5a6f1.8010b2",
        "g": "9e4cb2b1.53e0a",
        "name": "Build MQTT Topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "iot-2/type/OpenEEW/id/{{flow.SelectedSensor}}/cmd/sendacceldata/fmt/json",
        "output": "str",
        "x": 830,
        "y": 1020,
        "wires": [
            [
                "b4840586.e63b3",
                "2d6d6af1.93a1c6"
            ]
        ]
    },
    {
        "id": "2d6d6af1.93a1c6",
        "type": "mqtt out",
        "z": "3ee5a6f1.8010b2",
        "g": "9e4cb2b1.53e0a",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "e8c39ea1.bf699",
        "x": 1070,
        "y": 1060,
        "wires": []
    },
    {
        "id": "6b17e893.eb505",
        "type": "switch",
        "z": "dbe71947.9c2ef",
        "g": "9cf1823c.e1d0f8",
        "name": "isNum",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "istype",
                "v": "number",
                "vt": "number"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 190,
        "y": 1040,
        "wires": [
            [
                "7638eba.f7ca994"
            ]
        ]
    },
    {
        "id": "a625b304.9b97c8",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "9cf1823c.e1d0f8",
        "name": "Max",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "2147483646",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 190,
        "y": 1080,
        "wires": [
            [
                "7638eba.f7ca994"
            ]
        ]
    },
    {
        "id": "41b12daa.7a95bc",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "9cf1823c.e1d0f8",
        "name": "Off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 190,
        "y": 1120,
        "wires": [
            [
                "7638eba.f7ca994"
            ]
        ]
    },
    {
        "id": "7bee2b42.b570cc",
        "type": "ui_switch",
        "z": "dbe71947.9c2ef",
        "g": "9cf1823c.e1d0f8",
        "name": "",
        "label": "Continuous Live Data",
        "tooltip": "",
        "group": "f7ec054a.a45f4",
        "order": 22,
        "width": "9",
        "height": "1",
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 180,
        "y": 1180,
        "wires": [
            [
                "eb57f933.c2ce38"
            ]
        ]
    },
    {
        "id": "eb57f933.c2ce38",
        "type": "switch",
        "z": "dbe71947.9c2ef",
        "g": "9cf1823c.e1d0f8",
        "name": "Control Continous",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 410,
        "y": 1180,
        "wires": [
            [
                "a625b304.9b97c8"
            ],
            [
                "41b12daa.7a95bc"
            ]
        ]
    },
    {
        "id": "7638eba.f7ca994",
        "type": "switch",
        "z": "dbe71947.9c2ef",
        "g": "9cf1823c.e1d0f8",
        "name": "Selected Sensor",
        "property": "SelectedSensor",
        "propertyType": "flow",
        "rules": [
            {
                "t": "nnull"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 380,
        "y": 1040,
        "wires": [
            [
                "289270f3.486e08"
            ],
            [
                "75802ed6.3ad74"
            ]
        ]
    },
    {
        "id": "289270f3.486e08",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "9cf1823c.e1d0f8",
        "name": "Duration",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "payload.LiveDataDuration",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 1000,
        "wires": [
            [
                "771889d9.63d348",
                "b2642f1d.98fef8"
            ]
        ]
    },
    {
        "id": "771889d9.63d348",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "9cf1823c.e1d0f8",
        "name": "Sent Live Data",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Request for Live Data has been sent",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 1060,
        "wires": [
            [
                "544a460.9d9c63c"
            ]
        ]
    },
    {
        "id": "75802ed6.3ad74",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "9cf1823c.e1d0f8",
        "name": "Select a sensor",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Please select a sensor to request live data",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 1100,
        "wires": [
            [
                "544a460.9d9c63c"
            ]
        ]
    },
    {
        "id": "6f920bc6.6c50b4",
        "type": "ui_button",
        "z": "dbe71947.9c2ef",
        "g": "fc715e74.69f67",
        "name": "",
        "group": "f7ec054a.a45f4",
        "order": 28,
        "width": "8",
        "height": "1",
        "passthru": false,
        "label": "Restart",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"Restart\":true}",
        "payloadType": "json",
        "topic": "",
        "x": 140,
        "y": 1660,
        "wires": [
            [
                "69abbbfa.16a014"
            ]
        ]
    },
    {
        "id": "ae0f4dfa.473cd",
        "type": "debug",
        "z": "dbe71947.9c2ef",
        "g": "fc715e74.69f67",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 890,
        "y": 1620,
        "wires": []
    },
    {
        "id": "3b649950.dd4436",
        "type": "ui_text",
        "z": "dbe71947.9c2ef",
        "g": "fc715e74.69f67",
        "group": "f7ec054a.a45f4",
        "order": 25,
        "width": "10",
        "height": "1",
        "name": "Force Restart",
        "label": "Force restart the device",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 160,
        "y": 1620,
        "wires": []
    },
    {
        "id": "69abbbfa.16a014",
        "type": "switch",
        "z": "dbe71947.9c2ef",
        "g": "fc715e74.69f67",
        "name": "Selected Sensor",
        "property": "SelectedSensor",
        "propertyType": "flow",
        "rules": [
            {
                "t": "nnull"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 380,
        "y": 1660,
        "wires": [
            [
                "a7e76355.01dd6"
            ],
            [
                "49ad7837.7b3a48"
            ]
        ]
    },
    {
        "id": "49ad7837.7b3a48",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "fc715e74.69f67",
        "name": "Select a sensor",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Please select a sensor to restart",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 1720,
        "wires": [
            [
                "806e5d41.50aed"
            ]
        ]
    },
    {
        "id": "806e5d41.50aed",
        "type": "ui_toast",
        "z": "dbe71947.9c2ef",
        "g": "fc715e74.69f67",
        "position": "top right",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 920,
        "y": 1720,
        "wires": []
    },
    {
        "id": "8dddda88.af5898",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "fc715e74.69f67",
        "name": "Sent Restart command",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Request to restart the device sent",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 1680,
        "wires": [
            [
                "806e5d41.50aed"
            ]
        ]
    },
    {
        "id": "a7e76355.01dd6",
        "type": "template",
        "z": "dbe71947.9c2ef",
        "g": "fc715e74.69f67",
        "name": "Build MQTT Topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "iot-2/type/OpenEEW/id/{{flow.SelectedSensor}}/cmd/forcerestart/fmt/json",
        "output": "str",
        "x": 630,
        "y": 1620,
        "wires": [
            [
                "8dddda88.af5898",
                "ae0f4dfa.473cd",
                "dc595a5e.eaa918"
            ]
        ]
    },
    {
        "id": "51684c81.a6bab4",
        "type": "ui_template",
        "z": "dbe71947.9c2ef",
        "g": "c8fcfa53.af0308",
        "group": "f7ec054a.a45f4",
        "name": "horizontal rule",
        "order": 24,
        "width": "10",
        "height": "1",
        "format": "<style>\nhr { background-color: red; height: 5px; border: 0; }\n</style>\n<div><hr><center><strong>Restart the Device</strong></center></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 720,
        "y": 140,
        "wires": [
            [
                "4b485992.050078"
            ]
        ]
    },
    {
        "id": "e9c56294.7df8b",
        "type": "ui_template",
        "z": "d7e17bdf.18d3f8",
        "group": "33a67963.a4036e",
        "name": "OpenEEW Logo in Nav Bar",
        "order": 5,
        "width": 0,
        "height": 0,
        "format": "<script id=\"logoscript\" type=\"text/javascript\">\n    $(function () {\n        //add logo\n        var div1 = $('<div/>');\n        var logo = new Image();\n logo.src = \" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAABcCAYAAADj79JYAAAABmJLR0QA/wD/AP+gvaeTAAAOJ0lEQVR42u1dCXgU5RnettYeiiTLpSDInQsCMUCyG45Yqy3oZiEkkGSTsDMbUo+itdSjaiW2DyqEBFAoCrVAoWAREaEKipBCuCSgQVBA5E4g2RwcasRAXL9vdjZsNjOb/5uZ3eyG7vP8sg8y/86888/3v9/7HaPTBdjHEZv70+rhXFyVkc+tNvLTq4y2ZfC9GMZpGLXi+A6GQxwXqwz8cfhzD4z1MGbBmGxPsI6oSuDb6f7/afo5OnrKzwCcMfYE/kUAaiuMOjcw1Y6rMPYC8LOrjZz5jCH1F9clyI7EvBvsBttvYQUvBkAuaAiw92Hgv4bffLPKwKVfN+CfSLT+HC7+rN9Alh+1uPJhhLV50MEurw0AwF3je8H2D8+JbbOAVxtsYwMI8GvAG7h1FQbrwDZpw+ECKwIQdBxXwM7PrY3Nbd+2zAraz8AE3DkS+HN2I5fSZgDHRzegARdHdQK/6nyiNSSwwBuZ0wvplkOn+xFt8+Q/DgbQYZP/EmhsTECALXh0Rr4STwy/k441co8EB+DC+LbKYMtoXbaRYPs9bjKNjx84MpTjzybmdvRw06Uv1MgfBpu6CbzRpfD9NbuRf6kqgcsXvjv/bjOMQwxzqWYydqPt2VZa2fzTUp4cVb+Am7TaY54ycMNfB1CtaOeR0VB0mMrh/CA81m7gluBcvvFYbYVU86nSceGnye/uXA5pLgN3PxxXDnZyBoKl+cIA2wsLYaYofmkGOtzU+X4BHe7u8y2cyE4SJ09N/QkOn3N/+I3qhJxkOMf/acZgjPzLvjUjBhvPciI1I7jIQKakNUbeoBXwYP6e8JU7fjf8QD2b08DlB4MvAAso1WnOVEsC6RqDbQ0XhX/Wk6jEDSwYQEcXHvaPRSpBr6uMy4nWLEAAE5aSHzUDP85foG0LsyTs7J/aTSXrmiBEj5SDfkSTCJPId5WcwHp/Ab4jMqMGf/NcPOc4NsRafzgm+0LpoMyTJQMzS3ZEWd7ZGpYxd3N4+pQP+6Yadt7+mGzgoWr45P4wz1EVoK9QKzDdBZM0KFXd4Piu/gB8SdfxzHz7nIG7ejY295fenDFkWoo3UaVPNoaggPacULWDG/in/AH4rNCk8qOxkyhKoMWrNhSddZMYuFZy3eWKpF1wFv6iAW064g/nYFaoqWZDn4kEp4X7gOHpbgf/bpfC2OkCIivJ7ia46Vp4ZERBS8mnIDTpm3kdxzoqDRzreTXUjOS6tzTvpWHZHRTa9Ks1CZOjKK77cg29scV+MCkNMByl0VkEnZv7M5OTBE6cwsyCt9nAdu7UDVqmJvgyISdPl3ojgo1j9R0plHM7zE4ZuYlKrh09WobVrdoJIAlaebrEG7ZHpC/ZHWlZxjJ2RVoecD/+Zf3oW1yAz9abHeVxHDsgCTnx7F6poD5Sr/0d75MOtd4q6s8OjZU1WUGrQG/uvndgJvNc5fHWWocu78eu4/NvHtfZBTgO4OQ+2dxq4iy3KMinaQD5oK8XbZr7m6/EezlBq0Bvin+jewo1wHuX6/iXQk093AFf2jWZlAyEiUkEv8SimaKIq6bKyJ3yXRRcWtACwMcXgik4NczK/sTA4914fMdx/d0Bx3FsyCQCi+InMEu8QHEBwB3Ea78geVNB8RqlAMgCtYJWfoj5EQRpS1i6oo04PzQp2hPwD/qlUQLE75Ioczz/aypOlUZ+vBQVXEicaA+K+pRIipTbCwDNQJAWdhlHTF+wTcLjCzuMHeYJ+Kudx+G+wS5BjMi9jSh5bCealdXNoiHwP2qU3LWWIkBNVya3TgLw5S6gDg7OpoC+RQA8xDTKE3AcBwZlUfaExxUoi6SIvz3xoZvdgwvDiBM0modz8daeBN5+BZmQh1te5AJpba9UkvAPMdDes/Tm30gBTpuLO0gK18G1UwMXcJNGuwHOP0W13R6P2CbCsVObAK5P+sIF0hzYPM/Gc5SN+Ln8EJNZCvC5HcyCXEtY5UOIgfQCxZihmEOySVAS4uEspSldTQDO1+5A7Yy0UDbP44WhSWlSgOP4KMris4CwGBelbM6fXKODNKGq0t3xcEWFYJOqZp5DzMWeHTI2xBMkIo92bOw7Yboc4Cu6jac4Z9WOqNQb2Ski0miSI9Qg2HH0hIiPxr9kEnrmUldTod4UJQXUlwQeDdGd7XKAg4roODnUSmA+OclEs7KC5PyhlEBOjk/gH5AU7QnZsLia8KmYqTfdKwXUxr7s2nalgb88B+y1HOib+5M4+Vpa1hj3IHGx5qL9foZ0UDx3p5c7voeymgpCTFYpkJzaNvs5remZKgv4Ihq/r68wZnVmXuGABYmpGLhXdGIyJLMdwpXpJSvrdxROXhBqfkYOqH0EQevTQZmygOP4PCabshH/gRKGpEnZ8ASBidhAYBinWs7x4L9h5eQLOycvlgNpVY8UyoYneJdyc63vPYHOJtjt+DGKd44HlBBWZRGDF8b8xBSFpx+UAwkFrdMEQev9fhNlAX+lo9lRSeDklKRSuEHbCICX6SiR+WaagBTgRttI1vmOD5lU580UFBEELVQIvc1F0dwxHVlFurXXDC1c4ecJiYuvs0iYQhYS45yLb0vWasMTOLzcXP/pkeJQq2zKZDf8gxJcJgEO5mIe2123Pck6Z3F4uteV+VkMuwiF0R55E5WE4bcr7M6ZzcSYmfYqZVHoSB4iY0gK5U73UhRvowzs9Gy9PODrek0ghN84QY+Rm2v3AEuZlubTaUL5+STA4T92wg6+iLCZMJd3v3mHPI+eQxSh3vIy1/JuyZQUtu8wL4XBhv+TQqt1FJmR9a470y1sJtZ5Px7onUfvjrLUs8613wsnL9AnrQEavJ8QMHmYgZWtIQB+nlorWcws7jjLu8+yueec4F3KAbWy+/hjFE6+oJPsXJjgNJXEm1vm4VtJfgx8+S9FDiVGRl5knfu9PvI8GkSo9ZSUs/f7psnNs1BMBbnCLjh5T1kjFmvtoyb+NGBmKSvgGJER22O0OPcXsdlezIp5PkXzkeXk+qQ54v7yLmHfmiF3fWLvlwaSSfZaAuhFyya4vszFS4tleHR+qOlJIcHU2VKJaa4lEvweVvgLCmKS5XJVdogFOVVELKWjVG09SJMwbVmsc2+T4eSQCpEmOhnvMfP7CIm5QpKedVuZFP9jtHSWMf8wWdoWH3uKF7aSAjhWG7Bmn56BvMBCCW0b0uGMYigwhfU8yyTmApbyR2UOi+0NLbKMhdCk6IqfJxx41jPExsDJ/87MycEFb+YldrhfKJjCEBjFb5CYqzF4AszISElz8GzhIaaW2Cm8vlHaxhwPUk4KnCwxcWYI69yfRDfj0fWrdNdsKJi0OUrnKggxZyvVfFDrb0IIaDesKcXE5HQ1aRKMm2cpKyef35STN6GitUbbAMLCaDqX3pziQVufVpoBrKCjUYF7RW4M8WC7t8iPjOYwhXX+DX3cebSpSOLmlbDPNdGNpZjHNCutITAfLBBWYtqcx9ru9pRUiSXQtjQK4BcNNj1r7vlRN04ODGWpBPN5iPU8m8wVMjZRQgvZSODR0xWmul1qloJBrXygdo2gphW4eHS+PumvKkN5jZo7Jn5KbOiEJCb+tLhZlpCwMnBvqYrUuNWw3OurVN/iiAyX3c2R0aH/zc7vM8Sn5b4BMt5iLcXzVNBxwqw6UiPWO+6i1GGKWV7HWXk01uyAO36PtNMhdLdwUPj97Pb39ZaJ2izwYdsm+egR9v6g3z1blq8KbleDtj2jY1KYXCivwsAxBxRW9Uh1zOw05laZmzfMh4AXtFRUdZk4YQWlrx/W35dGZ+6DmsojBwZnnvk8JqsahKuLIDjVQVpafVmc9fsKMQkI/p0jr6tJti7+yJ2TFrOe576BFrx57bwshM980eUTWwxqGjIS7doyresv93fJumlDeFpPb/9mU+/U9lvC00fh2NY/fWxRmCUTx/bwjD9ti0h/ojgybdr2iIxCHDsiMha5O1ASC+FxHwDecneJmric2xWscker9/RT+aHEYdlb7lkHswYO5in4gUvoBQY16JRgDEMLVVpzAyP/lYKaxBOUZMhA+2DdkkaAX0YVlnq3pyr8sZJgbQWN3iApbUTLJmtiEFhRM17k51gqHYygY7GASsBPKm7mIL7eRWlniRLPirWgsOPEnG/PjRKqHO5RdQKgA7ygonXH8er4nIigA52Qu+IxFqq3a06x5kMVd/0r8GAzgwtw7jEF13lIs74w6B26eoQrb8XEL0WJNhgAPzeC68TchVRsYGCPs/bTeDPhfqVBf+5KbIHh11bQyjn526y5OnBNST46CUE7Vt2eCZjAp9j3NbDZCmdm07ptj/r0RCihMobxETbK9UefWqS5JCnZWU/fkhnN89em8pzGIk8F8l8sp6amYLSkvyO1FYt2K9EsEs1KgZaBdJUrXXhhRoMPFDYMzq7EtATUqb21LZWK3lQbrUOF8kVnRMgz0Lucco2yxb6g6bfOxgLmwA8vusCo+hlsCoOxQTEB/jUc+F14e+C19222FIGvo76TR3g9pNsGyZIz7tvNxRnqsvsYdO1ehAQRf9L1Od/kIjQkk8sxbAXQQV0ktiVqxbGXcm1iekepKyclcJQ2564+y0d2XeM+ioyBATdvO3A1Zci5A+p4ILDNCj9X15Y+4it4H9WqQ7MPRg2lQWTQfDA+KnLgbwPOrEADX11b/WDnNywb9wOF1LRpe9B/4NUrXcQOcsdaHXR4Qel18957dLkxL1HsBurPN4CfR2cJozIBzTx8Cz420BXc8efF/odavue+TqzumIa9dak57dfPDcA3YzlbR08TbL/zRhwS3fdatxccXcK/E2losZAODcIabohYZBCIAP8ADHNw600zoMMAAAAASUVORK5CYII=\" \n        logo.height = 45;\n        div1[0].style.margin = 'auto 10px auto auto';\n\n        div1.append(logo);\n\n        function addToToolbar() {\n            var toolbar = $('.md-toolbar-tools');\n            \n            if(!toolbar.length) return;\n            \n            toolbar.append(div1);\n        }\n        addToToolbar();\n    });\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 180,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "857bfb43.862d3",
        "type": "ui_svg_graphics",
        "z": "3ee5a6f1.8010b2",
        "group": "70ebc89b.49427",
        "order": 10,
        "width": "8",
        "height": "8",
        "svgString": "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 92.47 92.47\">\n  <defs>\n    <style>.eew-1{fill:#FFFFFF;}.eew-2{fill:#FFFFFF;}</style>\n  </defs>\n  <g id=\"Layer_2\" data-name=\"Layer 2\">\n    <g id=\"Layer_1-2\" data-name=\"Layer 1\">\n      <polygon class=\"eew-1\" points=\"47.98 65.43 59.32 65.72 61.12 20.13 49.44 18.9 47.98 65.43\"></polygon>\n      <polygon class=\"eew-1\" points=\"29.14 64.87 33.15 26.75 44.78 26.75 40.17 65.43 29.14 64.87\"></polygon>\n      <path class=\"eew-2\" d=\"M48,0a46.19,46.19,0,0,0-19,3.3l4.1,10.89A34.62,34.62,0,0,1,76.86,62.36L61.12,20.13,49.43,18.9,63.32,56.4,73.56,83.54A46.24,46.24,0,0,0,48,0ZM59.32,78.28A34.61,34.61,0,0,1,15.6,30.14L29.06,64.87h.08l11,.56-5.64-15-6.7-17.87L18.76,9.05A46.25,46.25,0,0,0,63.51,89.14Z\"></path>\n      <polygon class=\"eew-2\" points=\"59.32 65.72 47.98 65.43 44.07 55.24 38.33 40.25 33.15 26.75 44.78 26.75 49.82 40.25 59.32 65.72\"></polygon>\n    </g>\n  </g>\n</svg>",
        "clickableShapes": [],
        "javascriptHandlers": [],
        "smilAnimations": [],
        "bindings": [],
        "showCoordinates": false,
        "autoFormatAfterEdit": false,
        "showBrowserErrors": false,
        "showBrowserEvents": false,
        "enableJsDebugging": false,
        "sendMsgWhenLoaded": false,
        "outputField": "payload",
        "editorUrl": "//drawsvg.org/drawsvg.html",
        "directory": "",
        "panning": "disabled",
        "zooming": "disabled",
        "panOnlyWhenZoomed": false,
        "doubleClickZoomEnabled": false,
        "mouseWheelZoomEnabled": false,
        "dblClickZoomPercentage": 150,
        "name": "OpenEEW Logo",
        "x": 1460,
        "y": 560,
        "wires": [
            []
        ],
        "info": "SVG source for the logo is located at\nhttps://github.com/openeew/openeew.com/blob/master/static/img/OpenEEW_logo.svg"
    },
    {
        "id": "1c74f812.6285c",
        "type": "switch",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "Firmware Beta AllowList",
        "property": "openeew.macaddress",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "A8032A4DD5F0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "A8032A4DCCCCneil",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "807D3A816000",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "246F28CCE88C",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 910,
        "y": 540,
        "wires": [
            [
                "ef7746da.a5da3"
            ],
            [
                "ef7746da.a5da3"
            ],
            [
                "ef7746da.a5da3"
            ],
            [
                "ef7746da.a5da3"
            ],
            [
                "616abd73.3adbc4"
            ]
        ]
    },
    {
        "id": "ef7746da.a5da3",
        "type": "change",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "Firmware Beta Params",
        "rules": [
            {
                "t": "set",
                "p": "payload.firmware_latest",
                "pt": "msg",
                "to": "firmware_beta",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "payload.firmware_ota_url",
                "pt": "msg",
                "to": "firmware_ota_url_beta",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "payload.org",
                "pt": "msg",
                "to": "wiotp-org_beta",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 520,
        "wires": [
            [
                "616abd73.3adbc4",
                "b0ebc8ee067c0b22"
            ]
        ]
    },
    {
        "id": "29e82ed5.cff552",
        "type": "ui_button",
        "z": "dbe71947.9c2ef",
        "name": "",
        "group": "f7ec054a.a45f4",
        "order": 6,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Test Alarm",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"Alarm\":\"test\"}",
        "payloadType": "json",
        "topic": "",
        "x": 150,
        "y": 420,
        "wires": [
            [
                "8e87b9bc.fd498"
            ]
        ]
    },
    {
        "id": "8e5c3b9e.611bd",
        "type": "ui_button",
        "z": "dbe71947.9c2ef",
        "name": "",
        "group": "f7ec054a.a45f4",
        "order": 8,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Stop Alarm",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"Alarm\":\"false\"}",
        "payloadType": "json",
        "topic": "",
        "x": 150,
        "y": 460,
        "wires": [
            [
                "8e87b9bc.fd498"
            ]
        ]
    },
    {
        "id": "59da2bc7.950614",
        "type": "ui_template",
        "z": "dbe71947.9c2ef",
        "g": "fc456075.0f6bf8",
        "group": "c6a70804.fe6aa",
        "name": "horizontal rule",
        "order": 4,
        "width": "10",
        "height": "1",
        "format": "<style>\nhr { background-color: red; height: 5px; border: 0; }\n</style>\n<div><hr><center><strong>Factory Reset Device</strong></center></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 160,
        "y": 1920,
        "wires": [
            []
        ]
    },
    {
        "id": "cc45da18.1f9d28",
        "type": "ui_button",
        "z": "dbe71947.9c2ef",
        "g": "fc456075.0f6bf8",
        "name": "",
        "group": "c6a70804.fe6aa",
        "order": 7,
        "width": "8",
        "height": "1",
        "passthru": false,
        "label": "Factory Reset",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{}",
        "payloadType": "json",
        "topic": "",
        "x": 160,
        "y": 1860,
        "wires": [
            [
                "8b843b8e.828cd8"
            ]
        ]
    },
    {
        "id": "6d042b41.ab0fc4",
        "type": "debug",
        "z": "dbe71947.9c2ef",
        "g": "fc456075.0f6bf8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 890,
        "y": 1820,
        "wires": []
    },
    {
        "id": "5852ddda.73d8cc",
        "type": "ui_text",
        "z": "dbe71947.9c2ef",
        "g": "fc456075.0f6bf8",
        "group": "c6a70804.fe6aa",
        "order": 5,
        "width": "10",
        "height": "1",
        "name": "Factory Defaults Reset",
        "label": "Reset the device to factory defaults",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 180,
        "y": 1820,
        "wires": []
    },
    {
        "id": "8b843b8e.828cd8",
        "type": "switch",
        "z": "dbe71947.9c2ef",
        "g": "fc456075.0f6bf8",
        "name": "Selected Sensor",
        "property": "SelectedSensor",
        "propertyType": "flow",
        "rules": [
            {
                "t": "nnull"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 380,
        "y": 1860,
        "wires": [
            [
                "2bb606ce.ed0d9a"
            ],
            [
                "2dd96c10.875bfc"
            ]
        ]
    },
    {
        "id": "2dd96c10.875bfc",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "fc456075.0f6bf8",
        "name": "Select a sensor",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Please select a sensor to restart",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 1920,
        "wires": [
            [
                "bbf4442d.233fe"
            ]
        ]
    },
    {
        "id": "bbf4442d.233fe",
        "type": "ui_toast",
        "z": "dbe71947.9c2ef",
        "g": "fc456075.0f6bf8",
        "position": "top right",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 920,
        "y": 1920,
        "wires": []
    },
    {
        "id": "d4cb1480.4781",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "fc456075.0f6bf8",
        "name": "Sent Factory Reset command",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Request to Factory Reset device sent",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 1880,
        "wires": [
            [
                "bbf4442d.233fe"
            ]
        ]
    },
    {
        "id": "2bb606ce.ed0d9a",
        "type": "template",
        "z": "dbe71947.9c2ef",
        "g": "fc456075.0f6bf8",
        "name": "Build MQTT Topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "iot-2/type/OpenEEW/id/{{flow.SelectedSensor}}/cmd/factoryreset/fmt/json",
        "output": "str",
        "x": 630,
        "y": 1820,
        "wires": [
            [
                "d4cb1480.4781",
                "6d042b41.ab0fc4",
                "ad222b80.a161d"
            ]
        ]
    },
    {
        "id": "87e3aa4c.3f3ef8",
        "type": "debug",
        "z": "dbe71947.9c2ef",
        "g": "55991bb1.5b0c4c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1070,
        "y": 2080,
        "wires": []
    },
    {
        "id": "142061ae.2bad9e",
        "type": "ui_toast",
        "z": "dbe71947.9c2ef",
        "g": "55991bb1.5b0c4c",
        "position": "top right",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 920,
        "y": 2180,
        "wires": []
    },
    {
        "id": "469ca13d.baaac8",
        "type": "ui_text_input",
        "z": "dbe71947.9c2ef",
        "g": "55991bb1.5b0c4c",
        "name": "",
        "label": "Override default Threshold",
        "tooltip": "",
        "group": "c6a70804.fe6aa",
        "order": 11,
        "width": "10",
        "height": "1",
        "passthru": false,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "x": 200,
        "y": 2060,
        "wires": [
            [
                "5efd7e80.de9d28"
            ]
        ]
    },
    {
        "id": "d8215e7f.ae9678",
        "type": "ui_text",
        "z": "dbe71947.9c2ef",
        "g": "55991bb1.5b0c4c",
        "group": "c6a70804.fe6aa",
        "order": 10,
        "width": "10",
        "height": "1",
        "name": "Change Threshold",
        "label": "Override STA / LTA threshold sensitivity on device",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 170,
        "y": 2020,
        "wires": []
    },
    {
        "id": "31d58c14.8bc6c4",
        "type": "template",
        "z": "dbe71947.9c2ef",
        "g": "55991bb1.5b0c4c",
        "name": "Build MQTT Topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "iot-2/type/OpenEEW/id/{{flow.SelectedSensor}}/cmd/threshold/fmt/json",
        "output": "str",
        "x": 850,
        "y": 2080,
        "wires": [
            [
                "87e3aa4c.3f3ef8",
                "a8a57366.bd303"
            ]
        ]
    },
    {
        "id": "5efd7e80.de9d28",
        "type": "switch",
        "z": "dbe71947.9c2ef",
        "g": "55991bb1.5b0c4c",
        "name": "isNum",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "istype",
                "v": "number",
                "vt": "number"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 190,
        "y": 2120,
        "wires": [
            [
                "6ccd5c63.28e7d4"
            ]
        ]
    },
    {
        "id": "6ccd5c63.28e7d4",
        "type": "switch",
        "z": "dbe71947.9c2ef",
        "g": "55991bb1.5b0c4c",
        "name": "Selected Sensor",
        "property": "SelectedSensor",
        "propertyType": "flow",
        "rules": [
            {
                "t": "nnull"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 380,
        "y": 2120,
        "wires": [
            [
                "9d980095.cd822"
            ],
            [
                "176ee9be.a48b4e"
            ]
        ]
    },
    {
        "id": "9d980095.cd822",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "55991bb1.5b0c4c",
        "name": "Threshold",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "payload.ThresholdOverride",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 2080,
        "wires": [
            [
                "c37a95.26239568",
                "31d58c14.8bc6c4"
            ]
        ]
    },
    {
        "id": "c37a95.26239568",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "55991bb1.5b0c4c",
        "name": "Sent Threshold Override",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Request for Threshold Override has been sent",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 2140,
        "wires": [
            [
                "142061ae.2bad9e"
            ]
        ]
    },
    {
        "id": "176ee9be.a48b4e",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "55991bb1.5b0c4c",
        "name": "Select a sensor",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Please select a sensor to request live data",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 2180,
        "wires": [
            [
                "142061ae.2bad9e"
            ]
        ]
    },
    {
        "id": "a30cdcf8.b11458",
        "type": "ui_template",
        "z": "dbe71947.9c2ef",
        "g": "55991bb1.5b0c4c",
        "group": "c6a70804.fe6aa",
        "name": "horizontal rule",
        "order": 9,
        "width": "10",
        "height": "1",
        "format": "<style>\nhr { background-color: red; height: 5px; border: 0; }\n</style>\n<div><hr><center><strong>Override STA / LTA Threshold</strong></center></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 160,
        "y": 2180,
        "wires": [
            []
        ]
    },
    {
        "id": "43b703e9.b04254",
        "type": "ui_template",
        "z": "dbe71947.9c2ef",
        "g": "55991bb1.5b0c4c",
        "group": "c6a70804.fe6aa",
        "name": "horizontal rule",
        "order": 13,
        "width": "10",
        "height": "1",
        "format": "<style>\nhr { background-color: red; height: 5px; border: 0; }\n</style>\n<div><hr></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 380,
        "y": 2180,
        "wires": [
            []
        ]
    },
    {
        "id": "980230a4.59efc",
        "type": "switch",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "Test for msg.payload.d",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "hask",
                "v": "d",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 320,
        "y": 820,
        "wires": [
            [
                "f86ed3bc.4b0ae8"
            ],
            [
                "c38d31b0.c89de"
            ]
        ]
    },
    {
        "id": "1d8b6289.dd7eed",
        "type": "change",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "Reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 640,
        "wires": [
            [
                "f83b2d2f.adb7f8",
                "c203fe0f.04d1d8",
                "8923f152.266eb8"
            ]
        ]
    },
    {
        "id": "bdb4dae6.671c08",
        "type": "switch",
        "z": "3ee5a6f1.8010b2",
        "g": "1078d99c.af1f8e",
        "name": "Off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 410,
        "y": 140,
        "wires": [
            [
                "8e15aa41.3e6bf"
            ]
        ]
    },
    {
        "id": "8e15aa41.3e6bf",
        "type": "link out",
        "z": "3ee5a6f1.8010b2",
        "g": "1078d99c.af1f8e",
        "name": "Stop Charting",
        "links": [
            "3acab500.620844"
        ],
        "x": 575,
        "y": 140,
        "wires": []
    },
    {
        "id": "3acab500.620844",
        "type": "link in",
        "z": "3ee5a6f1.8010b2",
        "g": "375b9d49.f8ad62",
        "name": "Reset Queue",
        "links": [
            "8e15aa41.3e6bf",
            "fd91a0a3.39fb28",
            "cc66979.abd40e8",
            "a3628b81.b3bc18",
            "e4076464.801cf8"
        ],
        "x": 875,
        "y": 640,
        "wires": [
            [
                "1d8b6289.dd7eed"
            ]
        ]
    },
    {
        "id": "c14f7252.0e2dd8",
        "type": "mqtt out",
        "z": "dbe71947.9c2ef",
        "g": "46e69648.8c8a58",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "e8c39ea1.bf699",
        "x": 1270,
        "y": 140,
        "wires": []
    },
    {
        "id": "dabfcd50.ed6d08",
        "type": "link in",
        "z": "dbe71947.9c2ef",
        "g": "46e69648.8c8a58",
        "name": "MQTT Control",
        "links": [
            "20f80eef.b04e9a",
            "c9e90459.8e7638",
            "ff744c76.c480e8",
            "12a82db6.614baa",
            "d9e6ed30.4aef68",
            "dc595a5e.eaa918",
            "ad222b80.a161d",
            "a8a57366.bd303"
        ],
        "x": 1155,
        "y": 140,
        "wires": [
            [
                "c14f7252.0e2dd8"
            ]
        ]
    },
    {
        "id": "20f80eef.b04e9a",
        "type": "link out",
        "z": "dbe71947.9c2ef",
        "g": "201d6eb4.f4b03a",
        "name": "Alert Test",
        "links": [
            "dabfcd50.ed6d08"
        ],
        "x": 855,
        "y": 380,
        "wires": []
    },
    {
        "id": "42799131.27e4b",
        "type": "ui_button",
        "z": "dbe71947.9c2ef",
        "g": "a6a39970.38d9a8",
        "name": "",
        "group": "f7ec054a.a45f4",
        "order": 18,
        "width": "8",
        "height": "1",
        "passthru": false,
        "label": "Send History",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"SendHistory\":true}",
        "payloadType": "json",
        "topic": "",
        "x": 150,
        "y": 780,
        "wires": [
            [
                "5a1e6ee7.c19448"
            ]
        ]
    },
    {
        "id": "cb61e885.499ee8",
        "type": "debug",
        "z": "dbe71947.9c2ef",
        "g": "a6a39970.38d9a8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 890,
        "y": 740,
        "wires": []
    },
    {
        "id": "29466fbf.e4e658",
        "type": "ui_text",
        "z": "dbe71947.9c2ef",
        "g": "a6a39970.38d9a8",
        "group": "f7ec054a.a45f4",
        "order": 16,
        "width": 0,
        "height": 0,
        "name": "Send 10 Seconds of data",
        "label": "Request the selected device to send 10 seconds of history",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 190,
        "y": 740,
        "wires": []
    },
    {
        "id": "5a1e6ee7.c19448",
        "type": "switch",
        "z": "dbe71947.9c2ef",
        "g": "a6a39970.38d9a8",
        "name": "Selected Sensor",
        "property": "SelectedSensor",
        "propertyType": "flow",
        "rules": [
            {
                "t": "nnull"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 380,
        "y": 780,
        "wires": [
            [
                "44e1b3e3.ea9b84"
            ],
            [
                "f020b1e8.db039"
            ]
        ]
    },
    {
        "id": "f020b1e8.db039",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "a6a39970.38d9a8",
        "name": "Select a sensor",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Please select a sensor to request History",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 840,
        "wires": [
            [
                "3baf360.d9cda4a"
            ]
        ]
    },
    {
        "id": "3baf360.d9cda4a",
        "type": "ui_toast",
        "z": "dbe71947.9c2ef",
        "g": "a6a39970.38d9a8",
        "position": "top right",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 920,
        "y": 840,
        "wires": []
    },
    {
        "id": "2786e7e8.0c7698",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "a6a39970.38d9a8",
        "name": "Sent STALTA Buffer",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Request for 10 seconds of data sent",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 800,
        "wires": [
            [
                "3baf360.d9cda4a"
            ]
        ]
    },
    {
        "id": "44e1b3e3.ea9b84",
        "type": "template",
        "z": "dbe71947.9c2ef",
        "g": "a6a39970.38d9a8",
        "name": "Build MQTT Topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "iot-2/type/OpenEEW/id/{{flow.SelectedSensor}}/cmd/10secondhistory/fmt/json",
        "output": "str",
        "x": 630,
        "y": 740,
        "wires": [
            [
                "cb61e885.499ee8",
                "2786e7e8.0c7698",
                "ff744c76.c480e8"
            ]
        ]
    },
    {
        "id": "ff744c76.c480e8",
        "type": "link out",
        "z": "dbe71947.9c2ef",
        "g": "a6a39970.38d9a8",
        "name": "10 second history",
        "links": [
            "dabfcd50.ed6d08"
        ],
        "x": 855,
        "y": 780,
        "wires": []
    },
    {
        "id": "12a82db6.614baa",
        "type": "link out",
        "z": "dbe71947.9c2ef",
        "g": "9cf1823c.e1d0f8",
        "name": "Send Live Data",
        "links": [
            "dabfcd50.ed6d08"
        ],
        "x": 975,
        "y": 1040,
        "wires": []
    },
    {
        "id": "cae43296.803f9",
        "type": "ui_button",
        "z": "dbe71947.9c2ef",
        "g": "1011bad6.dc08a5",
        "name": "",
        "group": "f7ec054a.a45f4",
        "order": 13,
        "width": "8",
        "height": "1",
        "passthru": false,
        "label": "Firmware Check",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"firmware-check\":true}",
        "payloadType": "json",
        "topic": "",
        "x": 160,
        "y": 580,
        "wires": [
            [
                "1e8770f6.98f6cf"
            ]
        ]
    },
    {
        "id": "2578b319.c0d80c",
        "type": "debug",
        "z": "dbe71947.9c2ef",
        "g": "1011bad6.dc08a5",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 890,
        "y": 540,
        "wires": []
    },
    {
        "id": "e864815d.ff746",
        "type": "ui_text",
        "z": "dbe71947.9c2ef",
        "g": "1011bad6.dc08a5",
        "group": "f7ec054a.a45f4",
        "order": 11,
        "width": 0,
        "height": 0,
        "name": "Firmware Check",
        "label": "Request the selected device to do a Firmware Check",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 160,
        "y": 540,
        "wires": []
    },
    {
        "id": "1e8770f6.98f6cf",
        "type": "switch",
        "z": "dbe71947.9c2ef",
        "g": "1011bad6.dc08a5",
        "name": "Sensor Selected",
        "property": "SelectedSensor",
        "propertyType": "flow",
        "rules": [
            {
                "t": "nnull"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 380,
        "y": 580,
        "wires": [
            [
                "40b3f013.ec7bf8"
            ],
            [
                "5f93779a.f8d1e8"
            ]
        ]
    },
    {
        "id": "5f93779a.f8d1e8",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "1011bad6.dc08a5",
        "name": "Select a sensor",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Please select a sensor to send the Firmware Check",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 640,
        "wires": [
            [
                "75f2deaa.af97a"
            ]
        ]
    },
    {
        "id": "75f2deaa.af97a",
        "type": "ui_toast",
        "z": "dbe71947.9c2ef",
        "g": "1011bad6.dc08a5",
        "position": "top right",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 920,
        "y": 640,
        "wires": []
    },
    {
        "id": "d8733a05.6a4538",
        "type": "change",
        "z": "dbe71947.9c2ef",
        "g": "1011bad6.dc08a5",
        "name": "Sent Firmware Check",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "A Firmware Check has been sent",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 600,
        "wires": [
            [
                "75f2deaa.af97a"
            ]
        ]
    },
    {
        "id": "40b3f013.ec7bf8",
        "type": "template",
        "z": "dbe71947.9c2ef",
        "g": "1011bad6.dc08a5",
        "name": "Build MQTT Topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "iot-2/type/OpenEEW/id/{{flow.SelectedSensor}}/cmd/firmwarecheck/fmt/json",
        "output": "str",
        "x": 630,
        "y": 540,
        "wires": [
            [
                "2578b319.c0d80c",
                "d8733a05.6a4538",
                "c9e90459.8e7638"
            ]
        ]
    },
    {
        "id": "c9e90459.8e7638",
        "type": "link out",
        "z": "dbe71947.9c2ef",
        "g": "1011bad6.dc08a5",
        "name": "Firmware Check",
        "links": [
            "dabfcd50.ed6d08"
        ],
        "x": 855,
        "y": 580,
        "wires": []
    },
    {
        "id": "d9e6ed30.4aef68",
        "type": "link out",
        "z": "dbe71947.9c2ef",
        "g": "86d64079.5cf58",
        "name": "Sample Rate",
        "links": [
            "dabfcd50.ed6d08"
        ],
        "x": 1115,
        "y": 1500,
        "wires": []
    },
    {
        "id": "dc595a5e.eaa918",
        "type": "link out",
        "z": "dbe71947.9c2ef",
        "g": "fc715e74.69f67",
        "name": "Restart Sensor",
        "links": [
            "dabfcd50.ed6d08"
        ],
        "x": 855,
        "y": 1660,
        "wires": []
    },
    {
        "id": "ad222b80.a161d",
        "type": "link out",
        "z": "dbe71947.9c2ef",
        "g": "fc456075.0f6bf8",
        "name": "factory reset",
        "links": [
            "dabfcd50.ed6d08"
        ],
        "x": 855,
        "y": 1860,
        "wires": []
    },
    {
        "id": "41174a9a.027d74",
        "type": "comment",
        "z": "dbe71947.9c2ef",
        "g": "46e69648.8c8a58",
        "name": "Send MQTT commands",
        "info": "This group consolidates all of the\nMQTT-out commands into one node\nso that it is easy to switch Watson IoT \nPlatform orgs",
        "x": 1220,
        "y": 100,
        "wires": []
    },
    {
        "id": "a8a57366.bd303",
        "type": "link out",
        "z": "dbe71947.9c2ef",
        "g": "55991bb1.5b0c4c",
        "name": "send live data",
        "links": [
            "dabfcd50.ed6d08"
        ],
        "x": 1035,
        "y": 2120,
        "wires": []
    },
    {
        "id": "66a2e991.f457b8",
        "type": "catch",
        "z": "dbe71947.9c2ef",
        "g": "46e69648.8c8a58",
        "name": "Catch MQTT errors",
        "scope": [
            "c14f7252.0e2dd8",
            "dd54c69b.0f01d"
        ],
        "uncaught": false,
        "x": 1210,
        "y": 200,
        "wires": [
            [
                "7e508802.e6a7d"
            ]
        ]
    },
    {
        "id": "7e508802.e6a7d",
        "type": "debug",
        "z": "dbe71947.9c2ef",
        "g": "46e69648.8c8a58",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1390,
        "y": 200,
        "wires": []
    },
    {
        "id": "16a9db0a1e84516b",
        "type": "device-manager",
        "z": "4b86c42e8bda554e",
        "g": "a2601f7c8df47951",
        "auth": "api",
        "name": "List All OpenEEW Devices",
        "apiKey": "612b8eb7.d1904",
        "deviceType": "OpenEEW",
        "method": "GetAll",
        "deviceId": "",
        "password": "",
        "ignore": false,
        "x": 360,
        "y": 200,
        "wires": [
            [
                "c99898e1d46f7aaa",
                "428a1dacac83c3f8"
            ]
        ]
    },
    {
        "id": "c99898e1d46f7aaa",
        "type": "debug",
        "z": "4b86c42e8bda554e",
        "g": "a2601f7c8df47951",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 590,
        "y": 160,
        "wires": []
    },
    {
        "id": "ce03bb94ad050dc9",
        "type": "inject",
        "z": "4b86c42e8bda554e",
        "g": "a2601f7c8df47951",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 150,
        "y": 200,
        "wires": [
            [
                "16a9db0a1e84516b"
            ]
        ]
    },
    {
        "id": "428a1dacac83c3f8",
        "type": "function",
        "z": "4b86c42e8bda554e",
        "g": "a2601f7c8df47951",
        "name": "Restart Device",
        "func": "for( i=0; i < msg.payload.results.length; i++ ) {\n    var newmsg = {};\n    newmsg.topic = msg.payload.results[i].deviceId;\n    newmsg.payload = {\"Restart\":true};\n    node.send(newmsg);\n}\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 200,
        "wires": [
            [
                "ba07b1dceaad12d6",
                "86a4f423db87d72b"
            ]
        ]
    },
    {
        "id": "ba07b1dceaad12d6",
        "type": "debug",
        "z": "4b86c42e8bda554e",
        "g": "a2601f7c8df47951",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 790,
        "y": 200,
        "wires": []
    },
    {
        "id": "441ec00e7f1cca10",
        "type": "mqtt out",
        "z": "4b86c42e8bda554e",
        "g": "a2601f7c8df47951",
        "name": "Prior MQTT Broker",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "29a2e2f4.85bcd6",
        "x": 610,
        "y": 300,
        "wires": []
    },
    {
        "id": "0df6026bcbbc1e5e",
        "type": "debug",
        "z": "4b86c42e8bda554e",
        "g": "a2601f7c8df47951",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 570,
        "y": 260,
        "wires": []
    },
    {
        "id": "86a4f423db87d72b",
        "type": "template",
        "z": "4b86c42e8bda554e",
        "g": "a2601f7c8df47951",
        "name": "Build forcerestart MQTT Topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "iot-2/type/OpenEEW/id/{{topic}}/cmd/forcerestart/fmt/json",
        "output": "str",
        "x": 330,
        "y": 280,
        "wires": [
            [
                "0df6026bcbbc1e5e",
                "441ec00e7f1cca10",
                "14469bd06be171f3"
            ]
        ]
    },
    {
        "id": "36788ce2f3fab046",
        "type": "comment",
        "z": "4b86c42e8bda554e",
        "name": "Send all of the sensors registered in the prior IoT Broker to do a restart and connect to the new IoT Broker ",
        "info": "",
        "x": 400,
        "y": 40,
        "wires": []
    },
    {
        "id": "bb1b5cec7471d158",
        "type": "comment",
        "z": "4b86c42e8bda554e",
        "g": "a2601f7c8df47951",
        "name": "Send MQTT message to all register sensors - even if they are off line... ",
        "info": "",
        "x": 430,
        "y": 120,
        "wires": []
    },
    {
        "id": "c9b9dd2f888be119",
        "type": "function",
        "z": "4b86c42e8bda554e",
        "name": "Restart Test",
        "func": "var newmsg = {};\nnewmsg.topic = \"A8032A4DCB3C\";\nnewmsg.payload = {\"Restart\":true};\nreturn newmsg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 380,
        "wires": [
            [
                "86a4f423db87d72b"
            ]
        ]
    },
    {
        "id": "d2464c182446ba19",
        "type": "inject",
        "z": "4b86c42e8bda554e",
        "name": "test",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 150,
        "y": 380,
        "wires": [
            [
                "c9b9dd2f888be119"
            ]
        ]
    },
    {
        "id": "14469bd06be171f3",
        "type": "mqtt out",
        "z": "4b86c42e8bda554e",
        "name": "new MQTT Broker",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "e8c39ea1.bf699",
        "x": 610,
        "y": 380,
        "wires": []
    },
    {
        "id": "4e8733b7cd6710dd",
        "type": "change",
        "z": "91d8d0e3.111f78",
        "g": "fc79d93.5232128",
        "name": "Firmware meta data",
        "rules": [
            {
                "t": "set",
                "p": "firmware_ota_url",
                "pt": "flow",
                "to": "https://openeew-devicemgmt.mybluemix.net/firmware/firmware-1.4.0.bin",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "firmware_ota_url",
                "pt": "flow",
                "to": "https://openeew-devicemgmt.mybluemix.net/firmware/firmware-1.5.1.bin",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "firmware_latest",
                "pt": "flow",
                "to": "1.5.1",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "wiotp-org_beta",
                "pt": "flow",
                "to": "5yrusp",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "wiotp-org",
                "pt": "flow",
                "to": "7p7xwk",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "wiotp-org",
                "pt": "flow",
                "to": "5yrusp",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "firmware_beta",
                "pt": "flow",
                "to": "1.5.1",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "firmware_ota_url_beta",
                "pt": "flow",
                "to": "https://openeew-devicemgmt.mybluemix.net/firmware/firmware-1.5.1.bin",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "firmware_ota_url_beta",
                "pt": "flow",
                "to": "https://download.openeew.com/firmware-1.5.1.bin",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "76a1e3211d3e70aa",
        "type": "link in",
        "z": "91d8d0e3.111f78",
        "g": "f7c2dba2.d0ba4",
        "name": "Record devices in Cloudant DB",
        "links": [
            "6c89884917168467",
            "f2a28470c3f95866"
        ],
        "x": 55,
        "y": 1000,
        "wires": [
            [
                "4dc5ba4e.96c96c"
            ]
        ]
    },
    {
        "id": "6c89884917168467",
        "type": "link out",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "Record Activation ",
        "links": [
            "76a1e3211d3e70aa",
            "9b38160f4a7f76ae",
            "434b668723592621"
        ],
        "x": 455,
        "y": 340,
        "wires": []
    },
    {
        "id": "a3bcceb3.4d302",
        "type": "comment",
        "z": "91d8d0e3.111f78",
        "g": "33d13166.4995c6",
        "name": "VerneMQ testing",
        "info": "",
        "x": 120,
        "y": 700,
        "wires": []
    },
    {
        "id": "3c689c5a.0f9064",
        "type": "debug",
        "z": "91d8d0e3.111f78",
        "g": "33d13166.4995c6",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 190,
        "y": 740,
        "wires": []
    },
    {
        "id": "11ca047c.12667c",
        "type": "change",
        "z": "91d8d0e3.111f78",
        "g": "33d13166.4995c6",
        "name": "Respond to Device",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "payload.org",
                "pt": "msg",
                "to": "5cff0a8c-us-east.lb.appdomain.cloud",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.firmware_latest",
                "pt": "msg",
                "to": "firmware_latest",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "payload.firmware_ota_url",
                "pt": "msg",
                "to": "firmware_ota_url",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 780,
        "wires": [
            [
                "25e77e13.2b4e8a"
            ]
        ]
    },
    {
        "id": "9d3ac070.ab012",
        "type": "link in",
        "z": "91d8d0e3.111f78",
        "g": "33d13166.4995c6",
        "name": "verneMQ Activation",
        "links": [
            "a224ba33f87d66ad"
        ],
        "x": 55,
        "y": 780,
        "wires": [
            [
                "3c689c5a.0f9064",
                "baa7cc14.aae56"
            ]
        ]
    },
    {
        "id": "25e77e13.2b4e8a",
        "type": "link out",
        "z": "91d8d0e3.111f78",
        "g": "33d13166.4995c6",
        "name": "verneMQ success",
        "links": [
            "66ce1ea3.97ca88"
        ],
        "x": 575,
        "y": 780,
        "wires": []
    },
    {
        "id": "baa7cc14.aae56",
        "type": "switch",
        "z": "91d8d0e3.111f78",
        "g": "33d13166.4995c6",
        "name": "Check macaddress",
        "property": "payload.macaddress",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 210,
        "y": 820,
        "wires": [
            [
                "11ca047c.12667c",
                "f2a28470c3f95866"
            ],
            [
                "8b63adbb.162b"
            ]
        ]
    },
    {
        "id": "8b63adbb.162b",
        "type": "link out",
        "z": "91d8d0e3.111f78",
        "g": "33d13166.4995c6",
        "name": "verneMQ macaddr fail",
        "links": [
            "11cbccde.65d013"
        ],
        "x": 355,
        "y": 860,
        "wires": []
    },
    {
        "id": "a224ba33f87d66ad",
        "type": "link out",
        "z": "91d8d0e3.111f78",
        "g": "8382a4e0.422c18",
        "name": "verneMQ activation",
        "links": [
            "9d3ac070.ab012"
        ],
        "x": 855,
        "y": 200,
        "wires": []
    },
    {
        "id": "f2a28470c3f95866",
        "type": "link out",
        "z": "91d8d0e3.111f78",
        "g": "33d13166.4995c6",
        "name": "VerneMQ Cloudant",
        "links": [
            "76a1e3211d3e70aa",
            "9b38160f4a7f76ae",
            "434b668723592621"
        ],
        "x": 355,
        "y": 820,
        "wires": []
    },
    {
        "id": "b0ebc8ee067c0b22",
        "type": "debug",
        "z": "91d8d0e3.111f78",
        "g": "38984c09.dd023c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1290,
        "y": 440,
        "wires": []
    },
    {
        "id": "72cd30a2f7294311",
        "type": "http in",
        "z": "679a7bd6a8e81949",
        "g": "e5b32b045eedbba8",
        "name": "",
        "url": "/OpenEEWRegistration",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 160,
        "y": 460,
        "wires": [
            [
                "69c9c4a0b3a125d6",
                "6e9253ba95490f45"
            ]
        ],
        "info": "// nrlint no-unconnected-http-nodes:off\n"
    },
    {
        "id": "cc9a48cc41bb7a9c",
        "type": "switch",
        "z": "679a7bd6a8e81949",
        "g": "e5b32b045eedbba8",
        "name": "Registration Version",
        "property": "req.query.ver",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 740,
        "y": 460,
        "wires": [
            [
                "b99b4f1386f1a6d5"
            ],
            [
                "7dd7685c24ac4d72"
            ]
        ]
    },
    {
        "id": "69c9c4a0b3a125d6",
        "type": "debug",
        "z": "679a7bd6a8e81949",
        "g": "e5b32b045eedbba8",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 390,
        "y": 440,
        "wires": []
    },
    {
        "id": "6e9253ba95490f45",
        "type": "switch",
        "z": "679a7bd6a8e81949",
        "g": "e5b32b045eedbba8",
        "name": "Check for plain content-type",
        "property": "req.headers.content-type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": "text/plain; charset=utf-8",
                "vt": "str",
                "case": true
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 460,
        "y": 480,
        "wires": [
            [
                "cc9a48cc41bb7a9c"
            ],
            [
                "6f23acc26b04ba1f"
            ]
        ]
    },
    {
        "id": "6f23acc26b04ba1f",
        "type": "link out",
        "z": "679a7bd6a8e81949",
        "g": "e5b32b045eedbba8",
        "name": "Registration Fail on type",
        "links": [
            "dcdc0fc24e1f3a42"
        ],
        "x": 655,
        "y": 500,
        "wires": []
    },
    {
        "id": "7dd7685c24ac4d72",
        "type": "link out",
        "z": "679a7bd6a8e81949",
        "g": "e5b32b045eedbba8",
        "name": "Registration Fail",
        "links": [
            "dcdc0fc24e1f3a42"
        ],
        "x": 915,
        "y": 480,
        "wires": []
    },
    {
        "id": "b99b4f1386f1a6d5",
        "type": "link out",
        "z": "679a7bd6a8e81949",
        "g": "e5b32b045eedbba8",
        "name": "Endpoint V1",
        "links": [
            "85bde42d.c869b",
            "9a40c5e85d7094cf"
        ],
        "x": 915,
        "y": 440,
        "wires": []
    },
    {
        "id": "d8ec81585a98f043",
        "type": "switch",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "Registration Version",
        "property": "req.query.ver",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 760,
        "y": 100,
        "wires": [
            [
                "335e641dfa6606e9"
            ],
            [
                "dd42c05ba804c5cb"
            ]
        ]
    },
    {
        "id": "fedf2d8d9a727a4c",
        "type": "debug",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "complete": "true",
        "statusVal": "",
        "statusType": "auto",
        "x": 430,
        "y": 80,
        "wires": []
    },
    {
        "id": "c48fa06633d3c512",
        "type": "switch",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "Check for plain content-type",
        "property": "req.headers.content-type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": "text/plain; charset=utf-8",
                "vt": "str",
                "case": true
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 500,
        "y": 120,
        "wires": [
            [
                "d8ec81585a98f043"
            ],
            [
                "e4a09176c84bb44d"
            ]
        ]
    },
    {
        "id": "dd42c05ba804c5cb",
        "type": "link out",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "Fail Activation",
        "links": [
            "dcdc0fc24e1f3a42"
        ],
        "x": 915,
        "y": 120,
        "wires": []
    },
    {
        "id": "335e641dfa6606e9",
        "type": "link out",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "Account Provisioning Endpoint V1",
        "links": [
            "e002fabc41131996"
        ],
        "x": 915,
        "y": 80,
        "wires": []
    },
    {
        "id": "bc0b297a2678b2a9",
        "type": "http in",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "",
        "url": "/OpenEEWAccountVerification",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 180,
        "y": 80,
        "wires": [
            [
                "fedf2d8d9a727a4c",
                "c48fa06633d3c512"
            ]
        ],
        "info": "// nrlint no-unconnected-http-nodes:off\n"
    },
    {
        "id": "93ad7b85ab2436b9",
        "type": "inject",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "Test Case",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"email\":\"johnwalicki@gmail.com\",\"givenName\":\"John\",\"familyName\":\"Walicki\"}",
        "payloadType": "json",
        "x": 180,
        "y": 240,
        "wires": [
            [
                "8b6c380277420d89"
            ]
        ]
    },
    {
        "id": "8b6c380277420d89",
        "type": "change",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "Set headers and payload",
        "rules": [
            {
                "t": "move",
                "p": "req",
                "pt": "msg",
                "to": "reqbak",
                "tot": "msg"
            },
            {
                "t": "move",
                "p": "res",
                "pt": "msg",
                "to": "resbak",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.email",
                "pt": "msg",
                "to": "$trim(payload.email)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload.givenName",
                "pt": "msg",
                "to": "$trim(payload.givenName)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload.familyName",
                "pt": "msg",
                "to": "$trim(payload.familyName)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "headers.Content-Type",
                "pt": "msg",
                "to": "application/json",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "headers.Authorization",
                "pt": "msg",
                "to": "\"Bearer \" & $env(\"OPENEEW_API_KEY\")",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "headers.Authorization",
                "pt": "msg",
                "to": "Bearer HtH4eS9UaeR2v2AfdVSJeu",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 410,
        "y": 200,
        "wires": [
            [
                "04014214feec6e63"
            ]
        ]
    },
    {
        "id": "ca200d9dcc4befa7",
        "type": "json",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 190,
        "y": 200,
        "wires": [
            [
                "8b6c380277420d89"
            ]
        ]
    },
    {
        "id": "04014214feec6e63",
        "type": "http request",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "AppID verify",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://dashboard.openeew.com/api/verification",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 670,
        "y": 200,
        "wires": [
            [
                "aa740c2fda6ccd62",
                "08f096e60dd59bdb"
            ]
        ]
    },
    {
        "id": "aa740c2fda6ccd62",
        "type": "debug",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 850,
        "y": 200,
        "wires": []
    },
    {
        "id": "f92c635d15578498",
        "type": "switch",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "New or Return user?",
        "property": "payload.verified",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 700,
        "y": 300,
        "wires": [
            [
                "25c80ccc99edda23"
            ],
            [
                "25c80ccc99edda23"
            ]
        ]
    },
    {
        "id": "25c80ccc99edda23",
        "type": "link out",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "AppID Success",
        "links": [
            "4bf550e494b4b9bb"
        ],
        "x": 915,
        "y": 300,
        "wires": []
    },
    {
        "id": "e4a09176c84bb44d",
        "type": "link out",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "Account Fail",
        "links": [
            "dcdc0fc24e1f3a42"
        ],
        "x": 675,
        "y": 140,
        "wires": []
    },
    {
        "id": "e002fabc41131996",
        "type": "link in",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "AppID verify",
        "links": [
            "335e641dfa6606e9"
        ],
        "x": 75,
        "y": 200,
        "wires": [
            [
                "ca200d9dcc4befa7"
            ]
        ]
    },
    {
        "id": "853740ff2bbe60dd",
        "type": "switch",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Email is missing or invalid",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 450,
        "y": 300,
        "wires": [
            [
                "f92c635d15578498",
                "c20da5135d450c5d"
            ],
            [
                "1412ba9d4f1b21bb"
            ]
        ]
    },
    {
        "id": "1412ba9d4f1b21bb",
        "type": "link out",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "AppID Fail",
        "links": [
            "dcdc0fc24e1f3a42"
        ],
        "x": 615,
        "y": 340,
        "wires": []
    },
    {
        "id": "c20da5135d450c5d",
        "type": "debug",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 260,
        "wires": []
    },
    {
        "id": "08f096e60dd59bdb",
        "type": "function",
        "z": "679a7bd6a8e81949",
        "g": "ef2758e3b985c70c",
        "name": "Restore http request objects",
        "func": "// save the original request objects\nvar reqbak = msg.reqbak;\nvar resbak = msg.resbak;\nvar msgid = msg._msgid;\nvar verification = msg.payload;\n\n// reset the msg object\nmsg = {};\n\n// restore only what is needed to reply to the original http in\nmsg.req = reqbak;\nmsg.res = resbak;\nmsg.payload = verification;\nmsg._msgid = msgid;\n\nif( msg.payload.link === null ) {\n    msg.payload.link = \"https://dashboard.openeew.com\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 220,
        "y": 300,
        "wires": [
            [
                "853740ff2bbe60dd"
            ]
        ]
    },
    {
        "id": "66b84803d9695bbd",
        "type": "http response",
        "z": "679a7bd6a8e81949",
        "g": "0d920719a6f72558",
        "name": "",
        "x": 1290,
        "y": 660,
        "wires": [],
        "info": "// nrlint no-unconnected-http-nodes:off\n"
    },
    {
        "id": "3b0f7a8754ea899e",
        "type": "change",
        "z": "679a7bd6a8e81949",
        "g": "0d920719a6f72558",
        "name": "Success:Set headers statusCode 200",
        "rules": [
            {
                "t": "set",
                "p": "statusCode",
                "pt": "msg",
                "to": "200",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "headers.content-type",
                "pt": "msg",
                "to": "application/json",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1050,
        "y": 620,
        "wires": [
            [
                "66b84803d9695bbd"
            ]
        ]
    },
    {
        "id": "13a9fa8719ba3c7b",
        "type": "change",
        "z": "679a7bd6a8e81949",
        "g": "0d920719a6f72558",
        "name": "Fail:   Set headers statusCode 400",
        "rules": [
            {
                "t": "set",
                "p": "statusCode",
                "pt": "msg",
                "to": "400",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 680,
        "wires": [
            [
                "66b84803d9695bbd"
            ]
        ]
    },
    {
        "id": "dcdc0fc24e1f3a42",
        "type": "link in",
        "z": "679a7bd6a8e81949",
        "g": "0d920719a6f72558",
        "name": "Provisioning Fail Error 400",
        "links": [
            "1412ba9d4f1b21bb",
            "6f23acc26b04ba1f",
            "7dd7685c24ac4d72",
            "dd42c05ba804c5cb",
            "e4a09176c84bb44d"
        ],
        "x": 835,
        "y": 680,
        "wires": [
            [
                "13a9fa8719ba3c7b"
            ]
        ]
    },
    {
        "id": "4bf550e494b4b9bb",
        "type": "link in",
        "z": "679a7bd6a8e81949",
        "g": "0d920719a6f72558",
        "name": "Provisioning Success 200",
        "links": [
            "1b172277ac03faa9",
            "25c80ccc99edda23",
            "522c1a1c.697474"
        ],
        "x": 835,
        "y": 620,
        "wires": [
            [
                "3b0f7a8754ea899e"
            ]
        ]
    },
    {
        "id": "1c8f3aca20d2e48b",
        "type": "json",
        "z": "679a7bd6a8e81949",
        "g": "2df60891489ed3cc",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 170,
        "y": 840,
        "wires": [
            [
                "6685dd2178c00b1c",
                "1b172277ac03faa9",
                "ac9b036ce3e20e95"
            ]
        ]
    },
    {
        "id": "6685dd2178c00b1c",
        "type": "debug",
        "z": "679a7bd6a8e81949",
        "g": "2df60891489ed3cc",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 370,
        "y": 800,
        "wires": []
    },
    {
        "id": "ac9b036ce3e20e95",
        "type": "change",
        "z": "679a7bd6a8e81949",
        "g": "2df60891489ed3cc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload._id",
                "pt": "msg",
                "to": "$uppercase(payload.macaddress)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "openeew",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 840,
        "wires": [
            [
                "9e4a253a0ed46f12",
                "0828e91d605900a4"
            ]
        ],
        "info": "The Flutter mobile app sends the MAC address in lowercase.  Use JSONata to uppercase the _id\nso that the Cloudant search by _id finds the\ncorrect match."
    },
    {
        "id": "9e4a253a0ed46f12",
        "type": "debug",
        "z": "679a7bd6a8e81949",
        "g": "2df60891489ed3cc",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 570,
        "y": 800,
        "wires": []
    },
    {
        "id": "1b172277ac03faa9",
        "type": "link out",
        "z": "679a7bd6a8e81949",
        "g": "2df60891489ed3cc",
        "name": "Mobile Registration Success",
        "links": [
            "4bf550e494b4b9bb"
        ],
        "x": 315,
        "y": 880,
        "wires": []
    },
    {
        "id": "9a40c5e85d7094cf",
        "type": "link in",
        "z": "679a7bd6a8e81949",
        "g": "2df60891489ed3cc",
        "name": "Reg Endpoint v1",
        "links": [
            "f7997610.fcfd28",
            "b99b4f1386f1a6d5"
        ],
        "x": 75,
        "y": 840,
        "wires": [
            [
                "1c8f3aca20d2e48b"
            ]
        ]
    },
    {
        "id": "ea78624d263521ad",
        "type": "switch",
        "z": "679a7bd6a8e81949",
        "g": "2df60891489ed3cc",
        "name": "Exists",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "null"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "outputs": 2,
        "x": 770,
        "y": 840,
        "wires": [
            [
                "f82a87cca068f448"
            ],
            [
                "e42e10ef609fcce5"
            ]
        ]
    },
    {
        "id": "f3c27d1cacba9659",
        "type": "debug",
        "z": "679a7bd6a8e81949",
        "g": "2df60891489ed3cc",
        "name": "Create Record",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 1240,
        "y": 800,
        "wires": []
    },
    {
        "id": "dfe09c244c57fcc4",
        "type": "debug",
        "z": "679a7bd6a8e81949",
        "g": "2df60891489ed3cc",
        "name": "Update Record",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 1240,
        "y": 880,
        "wires": []
    },
    {
        "id": "f82a87cca068f448",
        "type": "change",
        "z": "679a7bd6a8e81949",
        "g": "2df60891489ed3cc",
        "name": "New OpenEEW Record",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "payload._id",
                "pt": "msg",
                "to": "$uppercase(openeew.macaddress)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload.DeviceID",
                "pt": "msg",
                "to": "$uppercase(openeew.macaddress)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload.latitude",
                "pt": "msg",
                "to": "openeew.latitude",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.longitude",
                "pt": "msg",
                "to": "openeew.longitude",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.city",
                "pt": "msg",
                "to": "openeew.city",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.country",
                "pt": "msg",
                "to": "openeew.country",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.first_name",
                "pt": "msg",
                "to": "openeew.first_name",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.uuid",
                "pt": "msg",
                "to": "openeew.uuid",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 820,
        "wires": [
            [
                "f3c27d1cacba9659",
                "59efd29a0c41395a"
            ]
        ]
    },
    {
        "id": "e42e10ef609fcce5",
        "type": "change",
        "z": "679a7bd6a8e81949",
        "g": "2df60891489ed3cc",
        "name": "Update OpenEEW Record",
        "rules": [
            {
                "t": "set",
                "p": "payload.latitude",
                "pt": "msg",
                "to": "openeew.latitude",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.longitude",
                "pt": "msg",
                "to": "openeew.longitude",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.city",
                "pt": "msg",
                "to": "openeew.city",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.country",
                "pt": "msg",
                "to": "openeew.country",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.uuid",
                "pt": "msg",
                "to": "openeew.uuid",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 860,
        "wires": [
            [
                "dfe09c244c57fcc4",
                "59efd29a0c41395a"
            ]
        ]
    },
    {
        "id": "e4cd3431bfa9c7e4",
        "type": "comment",
        "z": "679a7bd6a8e81949",
        "g": "2df60891489ed3cc",
        "name": "/OpenEEWRegistration",
        "info": "",
        "x": 140,
        "y": 800,
        "wires": []
    },
    {
        "id": "0828e91d605900a4",
        "type": "cloudant in",
        "z": "679a7bd6a8e81949",
        "g": "2df60891489ed3cc",
        "name": "",
        "cloudant": "4d4e4d7b.7cc1dc",
        "database": "openeew-devices",
        "service": "_ext_",
        "search": "_id_",
        "design": "",
        "index": "",
        "x": 590,
        "y": 840,
        "wires": [
            [
                "ea78624d263521ad"
            ]
        ]
    },
    {
        "id": "59efd29a0c41395a",
        "type": "cloudant out",
        "z": "679a7bd6a8e81949",
        "g": "2df60891489ed3cc",
        "name": "",
        "cloudant": "4d4e4d7b.7cc1dc",
        "database": "openeew-devices",
        "service": "_ext_",
        "payonly": true,
        "operation": "insert",
        "x": 1250,
        "y": 840,
        "wires": []
    },
    {
        "id": "66b07f12e32a0f23",
        "type": "csv",
        "z": "679a7bd6a8e81949",
        "g": "3af4ebb2eb3aecc7",
        "name": "",
        "sep": ",",
        "hdrin": "",
        "hdrout": "none",
        "multi": "one",
        "ret": "\\n",
        "temp": "macaddress,uuid,latitude,longitude,city,country",
        "skip": "0",
        "strings": true,
        "include_empty_strings": "",
        "include_null_values": "",
        "x": 430,
        "y": 640,
        "wires": [
            [
                "a1e0903fdcd3bde5"
            ]
        ]
    },
    {
        "id": "7e31026eb27c13d2",
        "type": "inject",
        "z": "679a7bd6a8e81949",
        "g": "3af4ebb2eb3aecc7",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 640,
        "wires": [
            [
                "cc0d9c45a2c5d9b2"
            ]
        ]
    },
    {
        "id": "c0c7574a1140d2bc",
        "type": "debug",
        "z": "679a7bd6a8e81949",
        "g": "3af4ebb2eb3aecc7",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 510,
        "y": 700,
        "wires": []
    },
    {
        "id": "cc0d9c45a2c5d9b2",
        "type": "template",
        "z": "679a7bd6a8e81949",
        "g": "3af4ebb2eb3aecc7",
        "name": "Nepal list",
        "field": "payload",
        "fieldType": "msg",
        "format": "text",
        "syntax": "mustache",
        "template": "A8032A4DD3A4,ef3b3c72-587c-469f-97cf-c580df6b5c73,50.156556,14.386577,Roztoky,Czechia\nA8032A4DD1A4,ef3b3c72-587c-469f-97cf-c580df6b5c73,50.156556,14.386577,Roztoky,Czechia\nA8032A4DD3FC,ef3b3c72-587c-469f-97cf-c580df6b5c73,50.156556,14.386577,Roztoky,Czechia\nA8032A4DD1A0,ef3b3c72-587c-469f-97cf-c580df6b5c73,50.156556,14.386577,Roztoky,Czechia\nA8032A4DD3E8,ef3b3c72-587c-469f-97cf-c580df6b5c73,50.156556,14.386577,Roztoky,Czechia\nA8032A4DD634,ef3b3c72-587c-469f-97cf-c580df6b5c73,50.156556,14.386577,Roztoky,Czechia\nA8032A4DD660,ef3b3c72-587c-469f-97cf-c580df6b5c73,50.156556,14.386577,Roztoky,Czechia\nA8032A4DCC4C,ef3b3c72-587c-469f-97cf-c580df6b5c73,50.156556,14.386577,Roztoky,Czechia\nA8032A4DD158,ef3b3c72-587c-469f-97cf-c580df6b5c73,50.156556,14.386577,Roztoky,Czechia\nA8032A4DD168,ef3b3c72-587c-469f-97cf-c580df6b5c73,50.156556,14.386577,Roztoky,Czechia\nA8032A4DD1B0,ef3b3c72-587c-469f-97cf-c580df6b5c73,50.156556,14.386577,Roztoky,Czechia\nA8032A4DD3B0,ef3b3c72-587c-469f-97cf-c580df6b5c73,50.156556,14.386577,Roztoky,Czechia\nA8032A4DD3DC,ef3b3c72-587c-469f-97cf-c580df6b5c73,50.156556,14.386577,Roztoky,Czechia\nA8032A4DD658,ef3b3c72-587c-469f-97cf-c580df6b5c73,50.156556,14.386577,Roztoky,Czechia\nA8032A5493E0,ef3b3c72-587c-469f-97cf-c580df6b5c73,50.156556,14.386577,Roztoky,Czechia",
        "output": "str",
        "x": 280,
        "y": 640,
        "wires": [
            [
                "66b07f12e32a0f23"
            ]
        ]
    },
    {
        "id": "a1e0903fdcd3bde5",
        "type": "delay",
        "z": "679a7bd6a8e81949",
        "g": "3af4ebb2eb3aecc7",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 210,
        "y": 700,
        "wires": [
            [
                "c0c7574a1140d2bc",
                "ac9b036ce3e20e95"
            ]
        ]
    },
    {
        "id": "c6dbb2ff4700e4f9",
        "type": "comment",
        "z": "679a7bd6a8e81949",
        "g": "3af4ebb2eb3aecc7",
        "name": "Manual Import of Devices in to Cloudant DB",
        "info": "",
        "x": 230,
        "y": 600,
        "wires": []
    },
    {
        "id": "870b9fb32ca6ee75",
        "type": "catch",
        "z": "679a7bd6a8e81949",
        "g": "2df60891489ed3cc",
        "name": "Catch Cloudant errors",
        "scope": [
            "0828e91d605900a4",
            "59efd29a0c41395a"
        ],
        "uncaught": false,
        "x": 560,
        "y": 900,
        "wires": [
            [
                "309cb361c9dded0d"
            ]
        ]
    },
    {
        "id": "309cb361c9dded0d",
        "type": "debug",
        "z": "679a7bd6a8e81949",
        "g": "2df60891489ed3cc",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 750,
        "y": 900,
        "wires": []
    },
    {
        "id": "451c58f61b0e899b",
        "type": "debug",
        "z": "c144587dbcbcc3b8",
        "g": "2d4a3aca377038b0",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 140,
        "wires": []
    },
    {
        "id": "f6dff7e6a93269d4",
        "type": "switch",
        "z": "c144587dbcbcc3b8",
        "g": "2d4a3aca377038b0",
        "name": "Exists",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "null"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "outputs": 2,
        "x": 850,
        "y": 180,
        "wires": [
            [],
            [
                "381ba8e5d4342111"
            ]
        ]
    },
    {
        "id": "f5c7a405efee1c2b",
        "type": "cloudant out",
        "z": "c144587dbcbcc3b8",
        "g": "2d4a3aca377038b0",
        "name": "",
        "cloudant": "4d4e4d7b.7cc1dc",
        "database": "openeew-devices",
        "service": "_ext_",
        "payonly": true,
        "operation": "insert",
        "x": 1050,
        "y": 280,
        "wires": []
    },
    {
        "id": "9b35e9ab992bca59",
        "type": "debug",
        "z": "c144587dbcbcc3b8",
        "g": "2d4a3aca377038b0",
        "name": "Update Record",
        "active": false,
        "tosidebar": true,
        "console": false,
        "complete": "true",
        "statusVal": "",
        "statusType": "auto",
        "x": 1040,
        "y": 240,
        "wires": []
    },
    {
        "id": "381ba8e5d4342111",
        "type": "change",
        "z": "c144587dbcbcc3b8",
        "g": "2d4a3aca377038b0",
        "name": "Update OpenEEW Record",
        "rules": [
            {
                "t": "set",
                "p": "payload.status",
                "pt": "msg",
                "to": "openeew.Action",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.LastStatusEvent",
                "pt": "msg",
                "to": "$toMillis(openeew.Time)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 260,
        "wires": [
            [
                "f5c7a405efee1c2b",
                "9b35e9ab992bca59"
            ]
        ]
    },
    {
        "id": "907c02b67aaf24af",
        "type": "cloudant in",
        "z": "c144587dbcbcc3b8",
        "g": "2d4a3aca377038b0",
        "name": "",
        "cloudant": "4d4e4d7b.7cc1dc",
        "database": "openeew-devices",
        "service": "_ext_",
        "search": "_id_",
        "design": "",
        "index": "",
        "x": 670,
        "y": 180,
        "wires": [
            [
                "f6dff7e6a93269d4"
            ]
        ]
    },
    {
        "id": "1acdf28c938148f1",
        "type": "comment",
        "z": "c144587dbcbcc3b8",
        "g": "2d4a3aca377038b0",
        "name": "Connect / Disconnect Events",
        "info": "",
        "x": 160,
        "y": 80,
        "wires": []
    },
    {
        "id": "64eaa696bf43a2dd",
        "type": "delay",
        "z": "c144587dbcbcc3b8",
        "g": "2d4a3aca377038b0",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "5",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 270,
        "y": 180,
        "wires": [
            [
                "5d1141462b39b4d4"
            ]
        ]
    },
    {
        "id": "5d1141462b39b4d4",
        "type": "function",
        "z": "c144587dbcbcc3b8",
        "g": "2d4a3aca377038b0",
        "name": "Find Device ID",
        "func": "// msg.topic contains the DeviceID\n// iot-2/type/OpenEEW/id/246F28CCE88C/mon\n// Grab the 5th substring\nvar words = msg.topic.split(\"/\");\n\n// Search the Cloudant DB for this device record\nmsg.payload._id = words[4];\n\nmsg.openeew = msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 460,
        "y": 180,
        "wires": [
            [
                "451c58f61b0e899b",
                "907c02b67aaf24af"
            ]
        ]
    },
    {
        "id": "30a5f73e73bf98cd",
        "type": "mqtt in",
        "z": "c144587dbcbcc3b8",
        "g": "2d4a3aca377038b0",
        "name": "OpenEEW Device Monitor",
        "topic": "iot-2/type/OpenEEW/id/+/mon",
        "qos": "2",
        "datatype": "json",
        "broker": "e8c39ea1.bf699",
        "nl": false,
        "rap": false,
        "x": 150,
        "y": 120,
        "wires": [
            [
                "64eaa696bf43a2dd"
            ]
        ]
    },
    {
        "id": "20a3a7739423e9a7",
        "type": "catch",
        "z": "c144587dbcbcc3b8",
        "g": "2d4a3aca377038b0",
        "name": "Catch Cloudant errors",
        "scope": [
            "f5c7a405efee1c2b",
            "907c02b67aaf24af"
        ],
        "uncaught": false,
        "x": 160,
        "y": 260,
        "wires": [
            [
                "3dd4de92a9bb9b70"
            ]
        ]
    },
    {
        "id": "3dd4de92a9bb9b70",
        "type": "debug",
        "z": "c144587dbcbcc3b8",
        "g": "2d4a3aca377038b0",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 370,
        "y": 260,
        "wires": []
    },
    {
        "id": "1c58b1f870d2c22e",
        "type": "device-manager",
        "z": "c144587dbcbcc3b8",
        "g": "a581fa89366d3b78",
        "auth": "api",
        "name": "List All OpenEEW Devices",
        "apiKey": "612b8eb7.d1904",
        "deviceType": "OpenEEW",
        "method": "GetAll",
        "deviceId": "",
        "password": "",
        "ignore": false,
        "x": 320,
        "y": 500,
        "wires": [
            [
                "6604feb471fe8aa2",
                "4f03aeabe8037a1f"
            ]
        ]
    },
    {
        "id": "6604feb471fe8aa2",
        "type": "debug",
        "z": "c144587dbcbcc3b8",
        "g": "a581fa89366d3b78",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 550,
        "y": 460,
        "wires": []
    },
    {
        "id": "3e928a6cf42c947f",
        "type": "inject",
        "z": "c144587dbcbcc3b8",
        "g": "a581fa89366d3b78",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 110,
        "y": 500,
        "wires": [
            [
                "1c58b1f870d2c22e"
            ]
        ]
    },
    {
        "id": "21606d7777b31fbc",
        "type": "device-manager",
        "z": "c144587dbcbcc3b8",
        "g": "a581fa89366d3b78",
        "auth": "api",
        "name": "Get Location Details",
        "apiKey": "612b8eb7.d1904",
        "deviceType": "OpenEEW",
        "method": "GetLoc",
        "deviceId": "",
        "password": "",
        "ignore": false,
        "x": 340,
        "y": 580,
        "wires": [
            [
                "565d991b8e451c80",
                "a0fe0a4f285ace8e"
            ]
        ]
    },
    {
        "id": "4f03aeabe8037a1f",
        "type": "function",
        "z": "c144587dbcbcc3b8",
        "g": "a581fa89366d3b78",
        "name": "Get Details",
        "func": "//var devices = [];\nfor( i=0; i < msg.payload.results.length; i++ ) {\n    //devices.push(msg.payload.results[i].deviceId);\n    var newmsg = {};\n    newmsg.topic = msg.payload.results[i].deviceId;\n    newmsg.parts = {\"count\" : msg.payload.results.length };\n    newmsg.payload = {\"deviceId\" : msg.payload.results[i].deviceId } ;\n    node.send(newmsg);\n}\n//msg.payload = devices;\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 500,
        "wires": [
            [
                "015beaaabeac0416",
                "21606d7777b31fbc"
            ]
        ]
    },
    {
        "id": "015beaaabeac0416",
        "type": "debug",
        "z": "c144587dbcbcc3b8",
        "g": "a581fa89366d3b78",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 500,
        "wires": []
    },
    {
        "id": "0659aa7fa0590815",
        "type": "inject",
        "z": "c144587dbcbcc3b8",
        "g": "a581fa89366d3b78",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"deviceId\":\"246F28CCE88C\"}",
        "payloadType": "json",
        "x": 110,
        "y": 580,
        "wires": [
            [
                "21606d7777b31fbc"
            ]
        ]
    },
    {
        "id": "565d991b8e451c80",
        "type": "debug",
        "z": "c144587dbcbcc3b8",
        "g": "a581fa89366d3b78",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 530,
        "y": 620,
        "wires": []
    },
    {
        "id": "74f12805dbc783c3",
        "type": "join",
        "z": "c144587dbcbcc3b8",
        "g": "a581fa89366d3b78",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "count",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 710,
        "y": 580,
        "wires": [
            [
                "359eb44fb2ee58df"
            ]
        ]
    },
    {
        "id": "359eb44fb2ee58df",
        "type": "debug",
        "z": "c144587dbcbcc3b8",
        "g": "a581fa89366d3b78",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 580,
        "wires": []
    },
    {
        "id": "a0fe0a4f285ace8e",
        "type": "change",
        "z": "c144587dbcbcc3b8",
        "g": "a581fa89366d3b78",
        "name": "Add deviceId",
        "rules": [
            {
                "t": "set",
                "p": "payload.deviceID",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 580,
        "wires": [
            [
                "74f12805dbc783c3"
            ]
        ]
    },
    {
        "id": "1de5d14138b04f9e",
        "type": "inject",
        "z": "c144587dbcbcc3b8",
        "g": "2ab294f3e4b3a62c",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 110,
        "y": 740,
        "wires": [
            [
                "69916a6098d820ac"
            ]
        ]
    },
    {
        "id": "55d01d59e1a391bd",
        "type": "debug",
        "z": "c144587dbcbcc3b8",
        "g": "2ab294f3e4b3a62c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 490,
        "y": 740,
        "wires": []
    },
    {
        "id": "69916a6098d820ac",
        "type": "cloudant in",
        "z": "c144587dbcbcc3b8",
        "g": "2ab294f3e4b3a62c",
        "name": "",
        "cloudant": "4d4e4d7b.7cc1dc",
        "database": "openeew-devices",
        "service": "_ext_",
        "search": "_all_",
        "design": "",
        "index": "",
        "x": 290,
        "y": 740,
        "wires": [
            [
                "55d01d59e1a391bd"
            ]
        ]
    },
    {
        "id": "dfeb6f4df66e3c7f",
        "type": "comment",
        "z": "c144587dbcbcc3b8",
        "name": "Debug Sections",
        "info": "",
        "x": 600,
        "y": 380,
        "wires": []
    },
    {
        "id": "5bfa15c09e1ed551",
        "type": "catch",
        "z": "91d8d0e3.111f78",
        "g": "f7c2dba2.d0ba4",
        "name": "Catch Cloudant errors",
        "scope": [
            "6a6a7390.bfd65c",
            "89148970.6a2a98"
        ],
        "uncaught": false,
        "x": 880,
        "y": 960,
        "wires": [
            [
                "475bfe278f8c3436"
            ]
        ]
    },
    {
        "id": "475bfe278f8c3436",
        "type": "debug",
        "z": "91d8d0e3.111f78",
        "g": "f7c2dba2.d0ba4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1110,
        "y": 960,
        "wires": []
    }
]